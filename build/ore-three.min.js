window.ORE=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e){t.exports=window.THREE},function(t,e){t.exports='varying vec2 vUv;\nuniform sampler2D backbuffer;\nuniform vec2 resolution;\n\nuniform bool direction;\nuniform float gaussVar;\n\n/*\nhttps://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/\n\nThe MIT License (MIT) Copyright (c) 2015 Jam3\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3846153846) * direction;\n\tvec2 off2 = vec2(3.2307692308) * direction;\n\tcolor += texture2D(image, uv) * 0.2270270270;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n\treturn color;\n}\n\nvoid main(){\n\n\tvec4 c = blur9(backbuffer,vUv,resolution,direction ? vec2(1.0,0.0) : vec2(0.0, 1.0));\n\n\tgl_FragColor = c;\n}'},function(t,e){t.exports="uniform sampler2D texturePosition;\nuniform sampler2D textureVelocity;\nuniform vec2 resolution;\nuniform float time;\nuniform float seed;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex \n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n// \n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nfloat mod289(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat permute(float x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat taylorInvSqrt(float r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 grad4(float j, vec4 ip)\n  {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; \n\n  return p;\n  }\n\t\t\t\t\t\t\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise(vec4 v)\n  {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n                        0.276393202250021,  // 2 * G4\n                        0.414589803375032,  // 3 * G4\n                       -0.447213595499958); // -1 + 4 * G4\n\n// First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n// Other corners\n\n// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n//  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n//  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n// Permutations\n  i = mod289(i); \n  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute( permute( permute( permute (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n// Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n// 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0 = grad4(j0,   ip);\n  vec4 p1 = grad4(j1.x, ip);\n  vec4 p2 = grad4(j1.y, ip);\n  vec4 p3 = grad4(j1.z, ip);\n  vec4 p4 = grad4(j1.w, ip);\n\n// Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt(dot(p4,p4));\n\n// Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n  }\n\nvoid main() {\n    if(gl_FragCoord.x >= 1.0) return;    \n    \n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec3 pos = texture2D( texturePosition, uv ).xyz;\n    vec3 vel = texture2D( textureVelocity, uv ).xyz;\n    float idParticle = uv.y * resolution.x + uv.x;\n    float scale = 0.08;\n    \n    vel.xyz += 40.0 * vec3(\n      snoise( vec4( scale * pos.xyz, 7.225 * seed * 200.0 + 0.4 * time ) ),\n      snoise( vec4( scale * pos.xyz, 3.553 * seed + 0.4 * time ) ),\n      snoise( vec4( scale * pos.xyz, 1.259 * seed * 10.0 + 0.4 * time ) )\n    ) * 0.05;\n\n    vec3 gpos = pos - vec3(0.0,0.0,0.0);\n    vel += -(gpos)* length(gpos) * 0.005;\n\n    vel.xyz *= 0.9 + abs(sin(uv.y * 9.0)) * 0.05;\n\n    gl_FragColor = vec4( vel.xyz, 1.0 );\n}"},function(t,e){t.exports="varying vec2 vUv;\n\nvoid main() {\n    vec3 pos = position;\n    pos.z = 1.0;\n    gl_Position = vec4(pos,1.0);\n    vUv = uv;\n}\n\n\n"},function(t,e){t.exports="uniform sampler2D backbuffer;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform float threshold;\n\nvoid main(){\n\tvec3 c = texture2D(backbuffer,vUv).xyz;\n\tfloat f = max(0.0,length(c) * 1.2 - length(vec3(threshold)));\n\tgl_FragColor = vec4(vec3(c) * f,1.0);\n}"},function(t,e){t.exports="varying vec2 vUv;\nuniform sampler2D backbuffer;\nuniform vec2 resolution;\n\nuniform sampler2D sceneTex;\nuniform float brightness;\n\nvoid main(){\n\tgl_FragColor = texture2D(sceneTex, vUv) * 1.0 + texture2D(backbuffer, vUv) * brightness;\n}"},function(t,e){t.exports="varying vec2 vUv;\nuniform vec2 domPos;\nuniform vec2 domSize;\nuniform vec2 windowSize;\nuniform float time;\n\nvoid main()\n{\n  float aspect = windowSize.x / windowSize.y;\n  float width = domSize.x / windowSize.x;\n\n  //左上(0,0)に\n  vec3 pos = position + vec3(1.0,-1.0,0.0);\n\n  //size\n  pos.x *= width;\n  pos.y *= (width * aspect) * (domSize.y / domSize.x);\n\n  //left top\n  pos += vec3(-1.0,1.0,0.0);\n\n  //dom position (windowは(-1.0,-1.0)-(1.0,1.0)なので *2 が必要)\n  pos += vec3(domPos.x / windowSize.x * 2.0,-domPos.y / windowSize.y * 2.0,0.0);\n\n  gl_Position = vec4(pos, 1.0);\n  vUv = uv;\n}\n"},function(t,e){t.exports="uniform sampler2D texturePosition;\nuniform sampler2D textureVelocity;\nuniform vec2 resolution;\n\nvoid main() {\n    if(gl_FragCoord.x <= 1.0){\n        vec2 uv = gl_FragCoord.xy / resolution.xy;\n        vec3 pos = texture2D( texturePosition, uv ).xyz;\n        vec3 vel = texture2D( textureVelocity, uv ).xyz;\n\n        pos += vel * 0.01;\n        gl_FragColor = vec4(pos,1.0);\n        \n    }else{\n        vec2 uv = gl_FragCoord.xy / resolution.xy;\n        vec2 bUV = (gl_FragCoord.xy - vec2(1.0,0.0)) / resolution.xy;\n        vec3 bPos = texture2D( texturePosition, bUV ).xyz;;\n        gl_FragColor = vec4(bPos,1.0);\n    }\n}"},function(t,e){t.exports="varying vec3 vViewPosition;\nattribute float uvx;\nattribute float uvy;\nuniform sampler2D texturePosition;\nuniform float camY;\n\nfloat PI = 3.14159265;\n\nfloat atan2(float y, float x)\n{\n    return x == 0.0 ? sign(y) * PI / 2.0 : atan(y, x);\n}\n\nmat2 rotate(float rad){\n    return mat2(cos(rad),sin(rad),-sin(rad),cos(rad));\n}\n\nvoid main() {\n    vec2 nUV = vec2(uvx,uvy) + vec2(1.0,0.0);\n    \n    if(nUV.x >= 1.0){\n        nUV = vec2(uvx,uvy) - vec2(1.0,0.0);\n    }\n\n    vec3 p = position * 0.3;\n    vec3 pos = texture2D( texturePosition, vec2(uvx,uvy)).xyz;\n    vec3 nPos = texture2D( texturePosition, nUV).xyz;\n\n    vec3 vec = normalize(nPos - pos);\n    float rotX = atan2(vec.y,vec.z);\n\n    p.xy *= sin(uvx * PI) * (sin(uvy * PI) * 1.0 + 0.1);\n    p.yz *= rotate(rotX);\n\n    vec4 mvPosition = modelViewMatrix * vec4(p + pos, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n\n    vViewPosition = -mvPosition.xyz;\n}\n\n\n"},function(t,e){t.exports="varying vec2 vUv;\n\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n    vUv = uv;\n}"},function(t,e){t.exports="uniform sampler2D texture;\nvarying vec2 vUv;\n\nvoid main() {\n    gl_FragColor = texture2D(texture,vUv);\n}"},function(t,e){t.exports="uniform float alpha;\nuniform float beta;\nuniform vec2 resolution;\nuniform sampler2D dataTex;\n\nfloat sampleData( sampler2D tex, vec2 uv, vec2 resolution ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n\t\n\t}\n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n\t\n\t}\n\n\treturn texture2D( tex, uv + offset / resolution ).z;\n\n}\n\nvoid main(){\n  vec4 data = texture2D(dataTex, gl_FragCoord.xy / resolution);\n\n  float l = sampleData(dataTex, (gl_FragCoord.xy - vec2(1.0, 0.0)) / resolution, resolution);\n  float r = sampleData(dataTex, (gl_FragCoord.xy + vec2(1.0, 0.0)) / resolution, resolution);\n  float t = sampleData(dataTex, (gl_FragCoord.xy - vec2(0.0, 1.0)) / resolution, resolution);\n  float b = sampleData(dataTex, (gl_FragCoord.xy + vec2(0.0, 1.0)) / resolution, resolution);\n\n  float divergence = data.w;\n  float pressure = ((l + r + t + b) - divergence) * 0.25;\n\n  gl_FragColor = vec4(data.xy, pressure, divergence);\n}"},function(t,e){t.exports="precision mediump float;\nprecision mediump sampler2D;\n\nuniform vec2 resolution;\nuniform sampler2D dataTex;\n\n\t\nfloat sampleData( sampler2D tex, vec2 uv, vec2 resolution ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n\t\n\t}\n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n\t\n\t}\n\n\treturn texture2D( tex, uv + offset / resolution ).z;\n\n}\n\n    void main () {\n\n\t\tvec2 uv = gl_FragCoord.xy / resolution;\n\n\t\tfloat l = sampleData(dataTex, (gl_FragCoord.xy - vec2(1.0, 0.0)) / resolution, resolution);\n\t\tfloat r = sampleData(dataTex, (gl_FragCoord.xy + vec2(1.0, 0.0)) / resolution, resolution);\n\t\tfloat t = sampleData(dataTex, (gl_FragCoord.xy - vec2(0.0, 1.0)) / resolution, resolution);\n\t\tfloat b = sampleData(dataTex, (gl_FragCoord.xy + vec2(0.0, 1.0)) / resolution, resolution);\n\n        vec4 data = texture2D(dataTex, uv);\n\n        data.xy -= vec2(r - l, b - t);\n        gl_FragColor = data;\n    }"},function(t,e){t.exports="\nuniform float time;\nuniform vec2 resolution;\n\nuniform sampler2D dataTex;\nuniform sampler2D curlTex;\n\nuniform vec2 pointerPos;\nuniform vec2 pointerVec;\nuniform float pointerSize;\n\nuniform float screenAspect;\n\nvec2 smapleVelocity( sampler2D tex, vec2 uv, vec2 resolution ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n\tfloat w = 1.0;\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n\t\tw = -1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n\t\tw = -1.0;\n\t\n\t}\n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n\t\tw = -1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n\t\tw = -1.0;\n\t\n\t}\n\n\treturn w * texture2D( tex, uv + offset / resolution ).xy;\n\n}\n\nfloat samplePressure( sampler2D tex, vec2 uv, vec2 resolution ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n  \tfloat w = 1.0;\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n    w = - 1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n    w = - 1.0;\n    \n\t} \n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n    w = - 1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n    w = - 1.0;\n\t\n\t}\n\n\treturn w * texture2D( tex, uv + offset / resolution ).z;\n\n}\n\nvoid main(){\n\tvec2 uv = gl_FragCoord.xy / resolution;\n\n\tvec2 offsetX = vec2(1.0, 0.0);\n\tvec2 offsetY = vec2(0.0, 1.0);\n\n\tfloat l = smapleVelocity(curlTex, (gl_FragCoord.xy - offsetX) / resolution, resolution).x;\n\tfloat r = smapleVelocity(curlTex, (gl_FragCoord.xy + offsetX) / resolution, resolution).x;\n\tfloat t = smapleVelocity(curlTex, (gl_FragCoord.xy - offsetY) / resolution, resolution).x;\n\tfloat b = smapleVelocity(curlTex, (gl_FragCoord.xy + offsetY) / resolution, resolution).x;\n\tfloat c = texture2D(curlTex, uv).x;\n\t\n\tvec2 force = 0.5 * vec2(abs(b) - abs(t), abs(r) - abs(l));\n\tforce /= length(force) + 0.0001;\n\tforce *= 1.0 * c;\n\tforce.y *= -1.0;\n\n\tvec4 data = texture2D( dataTex, uv);\n\n\tfloat pointerW = 1.0 - smoothstep( 0.0, pointerSize * 0.15, length(uv * vec2( screenAspect, 1.0 ) - pointerPos * vec2( screenAspect, 1.0 ) ) );\n\tvec2 mouse = vec2( 0.0, 0.0 );\n\tmouse += pointerW * pointerVec * 0.1;\n\t// data.xy = mix( data.xy, pointerVec * 0.3, pointerW);\n\n\tgl_FragColor = vec4(data.xy + mouse + force * 0.5, data.zw);\n}"},function(t,e){t.exports="uniform vec2 resolution;\nuniform sampler2D dataTex;\n\nvec2 sampleData( sampler2D tex, vec2 uv, vec2 resolution ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n\tfloat w = 1.0;\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n\t\tw = -1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n\t\tw = -1.0;\n\t\n\t}\n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n\t\tw = -1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n\t\tw = -1.0;\n\t\n\t}\n\n\treturn w * texture2D( tex, uv + offset / resolution ).xy;\n\n}\n\nvoid main(){\n\n  vec4 data = texture2D(dataTex, gl_FragCoord.xy / resolution);\n\n  vec2 offsetX = vec2(1.0, 0.0);\n  vec2 offsetY = vec2(0.0, 1.0);\n\n  vec2 l = sampleData(dataTex, (gl_FragCoord.xy - offsetX) / resolution, resolution);\n  vec2 r = sampleData(dataTex, (gl_FragCoord.xy + offsetX) / resolution, resolution);\n  vec2 t = sampleData(dataTex, (gl_FragCoord.xy - offsetY) / resolution, resolution);\n  vec2 b = sampleData(dataTex, (gl_FragCoord.xy + offsetY) / resolution, resolution);\n\n  float divergence = ((r.x - l.x) + (b.y - t.y)) * 0.5;\n\n  gl_FragColor = vec4(data.xyz, divergence);\n}"},function(t,e){t.exports="uniform vec2 resolution;\nuniform sampler2D dataTex;\n\nuniform float velocityAttenuation;\nuniform float pressureAttenuation;\n\nvec2 sampleVelocity( sampler2D tex, vec2 uv, vec2 resolution ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n\tfloat w = 1.0;\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n\t\tw = - 1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n\t\tw = - 1.0;\n\t\n\t}\n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n\t\tw = - 1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n\t\tw = - 1.0;\n\t\n\t}\n\n\treturn w * texture2D( tex, uv + offset / resolution ).xy;\n\n}\n\nfloat samplePressure( sampler2D tex, vec2 uv, vec2 resolution ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n\t\n\t}\n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n\t\n\t}\n\n\treturn texture2D( tex, uv + offset / resolution ).z;\n\n}\n\nvoid main(){\n\tvec2 uv =  gl_FragCoord.xy / resolution;\n\tvec2 p = gl_FragCoord.xy - sampleVelocity(dataTex, uv, resolution);\n\tgl_FragColor = vec4(sampleVelocity(dataTex, p / resolution,resolution) * velocityAttenuation, samplePressure(dataTex, uv, resolution) * pressureAttenuation, 0.0);\n}"},function(t,e){t.exports="uniform sampler2D dataTex;\nuniform vec2 resolution;\nuniform float curl;\n\nvec2 sampleData( sampler2D tex, vec2 uv, vec2 res ){\n\n\tvec2 offset = vec2( 0.0, 0.0 );\n\tfloat w = 1.0;\n\t\n\tif( uv.x < 0.0 ){\n\n\t\toffset.x = 1.0;\n\t\tw = -1.0;\n\n\t}else if( uv.x > 1.0 ){\n\n\t\toffset.x = -1.0;\n\t\tw = -1.0;\n\t\n\t}\n\n\tif( uv.y < 0.0 ){\n\n\t\toffset.y = 1.0;\n\t\tw = -1.0;\n\n\t}else if( uv.y > 1.0 ){\n\t\t\n\t\toffset.y = -1.0;\n\t\tw = -1.0;\n\t\n\t}\n\n\treturn w * texture2D( tex, uv + offset / res ).xy;\n\n}\n\nvoid main () {\n\tvec2 uv = gl_FragCoord.xy / resolution;\n\n\tvec2 offsetX = vec2(1.0, 0.0);\n\tvec2 offsetY = vec2(0.0, 1.0);\n\n\tfloat l = sampleData(dataTex, (gl_FragCoord.xy - offsetX) / resolution, resolution).y;\n\tfloat r = sampleData(dataTex, (gl_FragCoord.xy + offsetX) / resolution, resolution).y;\n\tfloat t = sampleData(dataTex, (gl_FragCoord.xy - offsetY) / resolution, resolution).x;\n\tfloat b = sampleData(dataTex, (gl_FragCoord.xy + offsetY) / resolution, resolution).x;\n\n\tfloat c = (r - l - b + t);\n\tgl_FragColor = vec4(curl * c, 0.0, 0.0, 1.0);\n}"},function(t){t.exports=JSON.parse('{"name":"ore-three-ts","version":"0.3.8","description":"Three.js utils.","main":"build/ore-three.js","scripts":{"dev":"webpack-dev-server --watch-content-base --config ./webpack/dev.config.js","build":"npm run build:module && npm run build:min && npm run build:types && npm run build:typedoc && npm run build:examples","build:module":"webpack --config ./webpack/build-module.config.js","build:min":"webpack --config ./webpack/build-min.config.js","build:types":"tsc --emitDeclarationOnly","build:typedoc":"typedoc --out ./docs/documentation/ ./src/ --mode file --name ore-three","build:examples":"webpack --config ./webpack/build-examples.config.js"},"repository":{"type":"git","url":"git@github.com:ukonpower/ore-three-ts.git"},"keywords":["threejs","webgl"],"types":"types/index.d.ts","files":["build","src","types"],"author":"ukonpower","bugs":{"url":"https://github.com/ukonpower/ore-three-ts/issues"},"license":"MIT","devDependencies":{"copy-webpack-plugin":"^5.0.4","shader-loader":"^1.3.1","three":"^0.109.0","ts-loader":"^6.0.0","typedoc":"^0.14.2","typescript":"^3.4.5","webpack":"^4.30.0","webpack-cli":"^3.3.2","webpack-dev-server":"^3.3.1","webpack-merge":"^4.2.1"},"peerDependencies":{"three":"^0.110.0"},"dependencies":{}}')},function(t,e,n){"use strict";n.r(e);var i,o=n(0),r=function(){function t(){this.attenuation=.9,this._position=new o.Vector2(0,0),this._delta=new o.Vector2(0,0),this._hoverPosition=new o.Vector2(0,0),this._hoverDelta=new o.Vector2(0,0);var t=navigator.userAgent;t.indexOf("iPhone")>=0||t.indexOf("iPad")>=0||t.indexOf("Android")>=0?(window.addEventListener("touchstart",this._MouseEvent.bind(this,"start")),window.addEventListener("touchmove",this._MouseEvent.bind(this,"move"),{passive:!1}),window.addEventListener("touchend",this._MouseEvent.bind(this,"end"))):(window.addEventListener("mousedown",this._MouseEvent.bind(this,"start")),window.addEventListener("mousemove",this._MouseEvent.bind(this,"move")),window.addEventListener("mouseup",this._MouseEvent.bind(this,"end")),window.addEventListener("dragend",this._MouseEvent.bind(this,"end")),window.addEventListener("wheel",this.wheel.bind(this),{passive:!1})),this._position.set(NaN,NaN),this._hoverPosition.set(NaN,NaN),this._touchDown=!1}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverPosition",{get:function(){return this._hoverPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverDelta",{get:function(){return this._hoverDelta},enumerable:!0,configurable:!0}),t.prototype.getRelativePosition=function(t,e){var n,i=t.getClientRects()[0],r=(n=this._hoverPosition).x-i.left,s=n.y-i.top;return e&&(r/=i.width,s/=i.height),new o.Vector2(r,s)},t.prototype.setPos=function(t,e){this._touchDown?(this._position.x!=this._position.x||this._position.y!=this._position.y?this._delta.set(0,0):this._delta.set(t-this._position.x,e-this._position.y),this._position.set(t,e)):(this._position.set(NaN,NaN),this._delta.set(0,0)),this._hoverPosition.x!=this._hoverPosition.x||this._hoverPosition.y!=this._hoverPosition.y?this._hoverDelta.set(0,0):this._hoverDelta.set(t-this._hoverPosition.x,e-this._hoverPosition.y),this._hoverPosition.set(t,e)},t.prototype._MouseEvent=function(t,e){var n,i;"touches"in e?(n=e.touches[0].clientX,i=e.touches[0].clientY):0==e.button&&(n=e.pageX-window.pageXOffset,i=e.pageY-window.pageYOffset),"start"==t?(this._touchDown=!0,this.setPos(n,i),this.onTouchStart&&this.onTouchStart(e)):"move"==t?(this.setPos(n,i),this._touchDown&&this.onTouchMove&&this.onTouchMove(e)):"end"==t&&(this._touchDown=!1,this.setPos(n,i),this.onTouchEnd&&this.onTouchEnd(e))},t.prototype.wheel=function(t){this.onWheel&&this.onWheel(t)},t.prototype.update=function(){this._delta.multiplyScalar(this.attenuation),this._hoverDelta.multiplyScalar(this.attenuation),this.onHover&&this.onHover()},t}(),s=n(17).version,a=function(){function t(t){t.silent||console.log("%c- ore-three "+s+" -","padding: 5px 10px ;background-color: black; color: white;font-size:11px"),this.renderer=new o.WebGLRenderer(t),this.renderer.debug.checkShaderErrors=!0,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(t.retina?window.devicePixelRatio:1),this.cursor=new r,this.cursor.onTouchStart=this.onTouchStart.bind(this),this.cursor.onTouchMove=this.onTouchMove.bind(this),this.cursor.onTouchEnd=this.onTouchEnd.bind(this),this.cursor.onHover=this.onHover.bind(this),this.cursor.onWheel=this.onWheel.bind(this),this.clock=new o.Clock,this.gProps={renderer:this.renderer,cursor:this.cursor},window.addEventListener("orientationchange",this.onOrientationDevice.bind(this)),window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize(),this.tick()}return t.prototype.tick=function(){var t=this.clock.getDelta();this.cursor.update(),this.currentScene&&this.currentScene.tick(t),requestAnimationFrame(this.tick.bind(this))},t.prototype.bindScene=function(t){this.currentScene=t,this.currentScene.onBind(this.gProps),this.onWindowResize()},t.prototype.unbindScene=function(){this.currentScene&&(this.currentScene.onUnbind(),this.currentScene=null,this.renderer.renderLists.dispose())},t.prototype.onWindowResize=function(){var t=new o.Vector2(window.innerWidth,window.innerHeight);this.renderer.setSize(t.x,t.y),this.currentScene&&this.currentScene.onResize({aspectRatio:t.x/t.y,pixelRatio:this.renderer.getPixelRatio(),windowSize:t,windowPixelSize:t.clone().multiplyScalar(this.renderer.getPixelRatio())})},t.prototype.onOrientationDevice=function(){this.onWindowResize()},t.prototype.onTouchStart=function(t){this.currentScene&&this.currentScene.onTouchStart(this.cursor,t)},t.prototype.onTouchMove=function(t){this.currentScene&&this.currentScene.onTouchMove(this.cursor,t)},t.prototype.onTouchEnd=function(t){this.currentScene&&this.currentScene.onTouchEnd(this.cursor,t)},t.prototype.onHover=function(){this.currentScene&&this.currentScene.onHover(this.cursor)},t.prototype.onWheel=function(t){this.currentScene&&this.currentScene.onWheel(t)},t}();!function(t){t.sigmoid=function(t,e){var n=6;e[0]&&(n=e[0]);var i=Math.exp(-n*(2*t-1)),o=Math.exp(-n);return(1+(1-i)/(1+i)*(1+o)/(1-o))/2},t.smoothstep=function(t,e,n){var i=Math.max(0,Math.min(1,n-t/(e-t)));return i*i*(3-2*i)},t.linear=function(t){return t},t.easeInQuad=function(t){return t*t},t.easeOutQuad=function(t){return t*(2-t)},t.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.easeInCubic=function(t){return t*t*t},t.easeOutCubic=function(t){return--t*t*t+1},t.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.easeInQuart=function(t){return t*t*t*t},t.easeOutQuart=function(t){return 1- --t*t*t*t},t.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},t.easeInQuint=function(t){return t*t*t*t*t},t.easeOutQuint=function(t){return 1+--t*t*t*t*t},t.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}(i||(i={}));var u,l=function(){function t(t){this.enabled=!0,this._velocity=0,this._pageOffset=0,this._pageOffsetMem=0,this.velocityAttenuation=.95,this.x=1,this.isAutoMoving=!1,this.autoMovingLock=!1,this.forceAutoMove=!1,this.sections=[],this.sectionScrollPercentages={},this.threePosition=new o.Vector3(0,0,0),this.threeRotation=new o.Quaternion(0,0,0),this.isStop=!1,this.stopSection=null,this.element=t,this.rect=this.element.getBoundingClientRect(),this.initEasings()}return Object.defineProperty(t.prototype,"pageOffset",{get:function(){return this._pageOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollVel",{get:function(){return this._velocity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPercentage",{get:function(){for(var t=0,e=1;e<this.sections.length;e++)t+=this.sectionScrollPercentages[this.sections[e].name];return t/(this.sections.length-1)},enumerable:!0,configurable:!0}),t.prototype.getScrollPercentage=function(t){var e=0;t||(t=[this.sections[0].name,this.sections[this.sections.length-1].name]);for(var n=0;n<t.length-1;n++){for(var i=this.getSection(t[n]),o=this.getSection(t[n+1]),r=0,s=o.num-i.num,a=i.num+1;a<=o.num;a++)r+=this.sectionScrollPercentages[this.sections[a].name];e+=r/s}return e/(t.length-1)},t.prototype.initEasings=function(){this.easingPos={func:i.linear,variables:null},this.easingRot={func:i.linear,variables:null},this.easingAutoMove={func:i.sigmoid,variables:[6]}},t.prototype.addVelocity=function(t){this.enabled&&(this.autoMovingLock||this.isStop&&!this.checkUnlockStopScroll(t,"add")||(this._velocity+=t))},t.prototype.setVelocity=function(t){this.enabled&&(this.autoMovingLock||this.isStop&&!this.checkUnlockStopScroll(t,"set")||(this._velocity=t))},t.prototype.checkUnlockStopScroll=function(t,e){var n,i=this.sections[this.stopSection];return(n=!i.events.onStartScroll||i.events.onStartScroll({scroller:this,section:i,scrollVelocity:t,scrollMode:e}))&&(this.isStop=!1,this.stopSection=null),n},t.prototype.setEasingPos=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.easingPos.func=t,this.easingPos.variables=e},t.prototype.setEasingRot=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.easingRot.func=t,this.easingRot.variables=e},t.prototype.setEasingAutoMove=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.easingAutoMove.func=t,this.easingAutoMove.variables=e},t.prototype.moveto=function(t){if(this.enabled||t.force){var e;if("string"==typeof t.target){var n=this.getSection(t.target);if(!n)return void console.log(t.target+"is not exist.");e=t.bottom?n.rect.bottom-window.innerHeight:n.rect.top}else{e=t.target.getBoundingClientRect().top}this.baseOffset=this.pageOffset,this.x=0,this._velocity=0,this.isAutoMoving=!0,this.duration=t.duration||1,this.autoMovingLock=t.lock||!1,this.scrollDistance=e-this.baseOffset,this.onAutoMoveFinished=t.callback,this.forceAutoMove=t.force||!1,!this.isStop||this.checkUnlockStopScroll(this.scrollDistance,"auto")}},t.prototype.update=function(t){this.isStop||(this.updateScroll(t),this.checkThrowSection()),this.calcScrollPercentage(),this.currentSectionNum=this.getCurrentSection(),this.calcThreePosition(),this.calcThreeRotation(),this.applyPageOffset(this.pageOffset)},t.prototype.updateScroll=function(t){if(this._pageOffsetMem=this.pageOffset,this.isAutoMoving){if(!this.enabled&&!this.forceAutoMove)return;this.autoScroll(t)}else{if(!this.enabled)return;this.manualScroll(t)}},t.prototype.manualScroll=function(t){this._pageOffset+=this._velocity,this._pageOffset=Math.min(Math.max(0,this.pageOffset),this.rect.height-window.innerHeight),this._velocity*=this.velocityAttenuation},t.prototype.autoScroll=function(t){this.x+=(t||.016)/this.duration;var e=!1;this.x>=1&&(e=!0,this.x=1);var n=this.easingAutoMove.func(this.x,this.easingAutoMove.variables),i=this.baseOffset+this.scrollDistance*n;this._velocity=i-this._pageOffset,this._pageOffset=i,e&&(this.onAutoMoveFinished&&this.onAutoMoveFinished(),this.isAutoMoving=!1,this.onAutoMoveFinished=null,this._velocity=0,this.autoMovingLock=!1)},t.prototype.applyPageOffset=function(t){this.element.style.transform="translate3d( 0,"+-t+"px,0 )"},t.prototype.checkThrowSection=function(){var t;for(t=0;t<this.sections.length;t++){var e=this.sections[t],n=void 0,i=this._pageOffset,o=this._pageOffsetMem;e.bottom?(n=e.rect.bottom,i+=window.innerHeight,o+=window.innerHeight):n=e.rect.top;for(var r=0;r<e.events.onArrivals.length;r++){var s=0;if(i>=(s=e.bottom?e.rect.bottom+e.rect.height*e.events.onArrivals[r].percentage:e.rect.top+e.rect.height*e.events.onArrivals[r].percentage)&&s>o||i<=s&&s<o){e.events.onArrivals[r].event({scroller:this,section:e,scrollVelocity:this._velocity,scrollMode:this.isAutoMoving?"auto":"manual"});break}}(i>=n&&n>o||i<=n&&n<o||i==o&&i==n)&&this.onThrowSection(t)}},t.prototype.onThrowSection=function(t){if(this.stopSection!=t){var e=this.sections[t];e.stop&&(this.isAutoMoving?e.events.onStartScroll&&e.events.onStartScroll({scroller:this,section:e,scrollVelocity:this._velocity,scrollMode:"auto"}):(this.isStop=!0,this.stopSection=t,this._velocity=0,this.setPageOffsetToSection(t)))}},t.prototype.setPageOffsetToSection=function(t){this.sections[t].bottom?this._pageOffset=this.sections[t].rect.bottom-window.innerHeight:this._pageOffset=this.sections[t].rect.top},t.prototype.getSection=function(t){for(var e=0;e<this.sections.length;e++)if(this.sections[e].name==t)return this.sections[e];return null},t.prototype.getCurrentSection=function(){for(var t=0;t<this.sections.length;t++){var e=this.sections[t],n=this.sectionScrollPercentages[e.name],i=this.sections[t+1];if(null==i){if(n>0)return t;break}var o=this.sectionScrollPercentages[i.name];if(n>0&&0==o)return t}},t.prototype.calcScrollPercentage=function(){for(var t=1;t<this.sections.length;t++){var e=this.sections[t-1],n=this.sections[t],i=e.bottom?e.rect.bottom:e.rect.top,o=n.bottom?n.rect.bottom:n.rect.top,r=void 0,s=void 0;n.bottom?e.bottom?(r=this._pageOffset+window.innerHeight-i,s=o-i):(r=this._pageOffset-i,s=o-i-window.innerHeight):e.bottom?(r=this._pageOffset-i+window.innerHeight,s=o-i+window.innerHeight):(r=this._pageOffset-i,s=o-i);var a=r/s,u=Math.min(1,Math.max(0,a));this.sectionScrollPercentages[n.name]=u}},t.prototype.calcThreePosition=function(){for(var t,e,n,i,r=this.currentSectionNum-1;r>=0&&(t=r,null==(n=this.sections[t].threePosition));r--);for(r=this.currentSectionNum;r<this.sections.length&&(e=r,null==(i=this.sections[e].threePosition));r++);var s=0,a=0;if(n&&i){for(r=t+1;r<=e;r++)s+=this.sectionScrollPercentages[this.sections[r].name],a++;var u=this.sections[this.currentSectionNum],l=this.calcThreeEasings(s/a,u,"pos");this.threePosition.copy(n.clone().add((new o.Vector3).subVectors(i,n).multiplyScalar(l)))}else n?this.threePosition.copy(n):i&&this.threePosition.copy(i)},t.prototype.calcThreeRotation=function(){for(var t,e,n,i,o=this.currentSectionNum-1;o>=0&&(t=o,null==(n=this.sections[t].threeRotation));o--);for(o=this.currentSectionNum;o<this.sections.length&&(e=o,null==(i=this.sections[e].threeRotation));o++);var r=0,s=0;if(n&&i){for(o=t+1;o<=e;o++)r+=this.sectionScrollPercentages[this.sections[o].name],s++;var a=this.sections[this.currentSectionNum],u=this.calcThreeEasings(r/s,a,"rot");this.threeRotation.copy(n.clone().slerp(i,u))}else n?this.threeRotation.copy(n):i&&this.threeRotation.copy(i)},t.prototype.calcThreeEasings=function(t,e,n){return"pos"==n?e.sectionEasings&&e.sectionEasings.position?e.sectionEasings.position.func(t,e.sectionEasings.position.variables):this.easingPos.func(t,this.easingPos.variables):"rot"==n?e.sectionEasings&&e.sectionEasings.rotation?e.sectionEasings.rotation.func(t,e.sectionEasings.rotation.variables):this.easingRot.func(t,this.easingRot.variables):void 0},t.prototype.registerSection=function(t){this.sections.push(t),this.sectionScrollPercentages[t.name]=0,this._pageOffset=0,this.currentSectionNum=0,this.resize(),this.sortSections(),this.calcScrollPercentage()},t.prototype.sortSections=function(){this.sections.sort((function(t,e){return(t.bottom?t.rect.bottom:t.rect.top)>(e.bottom?e.rect.bottom:e.rect.top)?1:-1}));for(var t=!1,e=0;e<this.sections.length;e++)this.sections[e].num=e,!t&&this.sections[e].threePosition&&(this.threePosition.copy(this.sections[e].threePosition),t=!0);this.sectionScrollPercentages[this.sections[0].name]=1},t.prototype.resize=function(){this.rect=this.element.getBoundingClientRect();for(var t=0;t<this.sections.length;t++)this.sections[t].resize(this._pageOffset)},t}(),c=function(){function t(t){var e=t.element.getBoundingClientRect(),n={top:e.top,bottom:e.bottom,width:e.width,height:e.height};this._name=t.name,this._element=t.element,this._rect=n,this.bottom=t.bottom||!1,this.stop=t.stop||!1,this.threePosition=t.threePosition||null,this.threeRotation=t.threeRotation||null,this._events={onStartScroll:null,onArrivals:[]},t.events&&(this._events.onArrivals=t.events.onArrivals||[],this._events.onStartScroll=t.events.onStartScroll||null),this.sectionEasings={position:null,rotation:null},t.sectionEasings&&t.sectionEasings.position&&(this.sectionEasings.position={func:t.sectionEasings.position.func||null,variables:t.sectionEasings.position.variables||[]}),t.sectionEasings&&t.sectionEasings.rotation&&(this.sectionEasings.rotation={func:t.sectionEasings.rotation.func||null,variables:t.sectionEasings.rotation.variables||[]})}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.resize=function(t){var e=this._element.getBoundingClientRect();this.rect.bottom=e.bottom+t,this.rect.top=e.top+t,this.rect.width=e.width,this.rect.height=e.height},t.prototype.addArrivalEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Array.prototype.push.apply(this._events.onArrivals,t)},t}(),h=function(){function t(){this.time=0,this.name="",this.scene=new o.Scene,this.camera=new o.PerspectiveCamera(50,innerWidth/innerHeight,.1,1e3)}return t.prototype.tick=function(t){this.time+=t,this.animate(t)},t.prototype.animate=function(t){},t.prototype.onBind=function(t){this.gProps=t},t.prototype.onUnbind=function(){this.removeChildrens(this.scene)},t.prototype.removeChildrens=function(t){for(var e=t.children.length-1;e>=0;e--){this.removeChildrens(t.children[e]);var n=void 0,i=void 0;t.children[e].isMesh&&(n=t.children[e].geometry,i=t.children[e].material),t.remove(t.children[e]),n&&n.dispose(),i&&i.dispose()}},t.prototype.onResize=function(t){this.camera.aspect=t.aspectRatio,this.camera.updateProjectionMatrix()},t.prototype.onTouchStart=function(t,e){},t.prototype.onTouchMove=function(t,e){},t.prototype.onTouchEnd=function(t,e){},t.prototype.onHover=function(t){},t.prototype.onWheel=function(t){},t}(),f=function(){function t(t){this.target=t,this.scrollVel=new o.Vector2}return t.prototype.update=function(){this.scrollVel.multiplyScalar(.96);var t=new o.Vector3(this.scrollVel.y,this.scrollVel.x,0).normalize(),e=(new o.Quaternion).setFromAxisAngle(t,this.scrollVel.length());e.multiply(this.target.quaternion),this.target.quaternion.copy(e)},t.prototype.addVelocity=function(t){this.scrollVel.addVectors(this.scrollVel,t.multiplyScalar(.001))},t}(),p=function(){function t(t,e){this.target=t,this.rotate=new o.Quaternion,this.rotMat=new o.Matrix4,this.scrollVel=new o.Vector2(0,0),this.uniform=e,this.uniform.rotVec={value:this.scrollVel},this.uniform.rotation={value:null}}return t.prototype.update=function(){this.scrollVel.multiplyScalar(.96);var t=new o.Vector3(this.scrollVel.y,this.scrollVel.x,0).normalize(),e=(new o.Quaternion).setFromAxisAngle(t,this.scrollVel.length());e.multiply(this.rotate),this.rotate.copy(e),this.uniform.rotation.value=this.rotMat.compose(new o.Vector3,this.rotate,this.target.scale)},t.prototype.addVelocity=function(t){this.scrollVel.addVectors(this.scrollVel,t.multiplyScalar(.001))},t}(),v=function(){function t(t){this.x=0,this.duration=1,this.isMoving=!1,this.force=!1,this.objPos=t.position,this.objRot=t.rotation,this.setBaseTransform()}return t.prototype.setBaseTransform=function(){this.basePos=this.objPos.clone(),this.baseRot=this.objRot.toVector3()},t.prototype.move=function(t,e,n,i){return void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=1),!(this.isMoving&&!this.force)&&(t||(t=this.objPos.clone()),e||(e=this.objRot.clone()),i&&(this.onFinish=i),this.duration=n,this.setBaseTransform(),this.goalPos=t.clone(),this.goalRot=e.toVector3(),this.distancePos=(new o.Vector3).subVectors(this.goalPos,this.basePos),this.distanceRot=(new o.Vector3).subVectors(this.goalRot,this.baseRot),this.x=0,this.isMoving=!0,!0)},t.prototype.update=function(t){var e=!1;if(this.isMoving){this.x+=(t||.016)/this.duration,this.x>1&&(this.x=1,e=!0);var n=this.sigmoid(6,this.x);this.objPos.set(this.basePos.x+this.distancePos.x*n,this.basePos.y+this.distancePos.y*n,this.basePos.z+this.distancePos.z*n),this.objRot.set(this.baseRot.x+this.distanceRot.x*n,this.baseRot.y+this.distanceRot.y*n,this.baseRot.z+this.distanceRot.z*n),e&&(this.x=0,this.isMoving=!1,this.onFinish&&(this.onFinish(),this.onFinish=null))}},t.prototype.sigmoid=function(t,e){var n=Math.exp(-t*(2*e-1)),i=Math.exp(-t);return(1+(1-n)/(1+n)*(1+i)/(1-i))/2},t}(),d=function(){function t(t,e){this.isLoaded=!1,this.loadingManager=e,this.listener=t.listener?t.listener:new o.AudioListener,this.audio=new o.Audio(this.listener),this.bufferSize=t.bufferSize?t.bufferSize:128,t.src&&this.load(t.src)}return Object.defineProperty(t.prototype,"isPlaying",{get:function(){return!!this.audio&&this.audio.isPlaying},enumerable:!0,configurable:!0}),t.prototype.load=function(t){var e=this;this.audio.buffer&&this.audio.stop();var n=new o.AudioLoader(this.loadingManager);this.isLoaded=!1,n.load(t,(function(t){e.audio.setBuffer(t),e.audio.setLoop(!0),e.audio.setVolume(.5),e.analyser=new o.AudioAnalyser(e.audio,e.bufferSize),e.spectrumData=new o.DataTexture(e.analyser.data,e.bufferSize/2,1,o.LuminanceFormat),e.spectrumData.needsUpdate=!0,e.isLoaded=!0,e.onLoad&&(e.onLoad(),e.onLoad=null)}),(function(t){console.log(t.loaded/t.total*100+"% loaded")}),(function(t){console.log("An error happened: "+t)}))},t.prototype.play=function(){var t=this;this.isLoaded?this.audio.play():this.onLoad=function(){t.audio.play()}},t.prototype.pause=function(){this.audio.isPlaying&&this.audio.pause()},t.prototype.stop=function(){this.audio.stop()},t.prototype.update=function(){this.analyser&&(this.analyser.getFrequencyData(),this.volume=this.analyser.getAverageFrequency(),this.spectrumData&&(this.spectrumData.needsUpdate=!0))},t}(),m=function(){function t(t,e){this.volume=0,this.navigator=t,this.bufferSize=e,this.navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(this.onGetUserMedia.bind(this))}return t.prototype.onGetUserMedia=function(t){this.context=new(window.AudioContext||window.webkitAudioContext),this.analyzer=this.context.createAnalyser(),this.analyzer.fftSize=this.bufferSize,this.analyzer.smoothingTimeConstant=.8,this.bufferArray=new Uint8Array(this.analyzer.frequencyBinCount),this.spectrumData=new o.DataTexture(this.bufferArray,this.bufferSize/2,1,o.LuminanceFormat);var e=this.context.createMediaStreamSource(t);this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),e.connect(this.analyzer),this.analyzer.connect(this.processor),this.processor.connect(this.context.destination),this.processor.addEventListener("audioprocess",this.onProcess.bind(this))},t.prototype.onProcess=function(t){this.analyzer.getByteFrequencyData(this.bufferArray),this.spectrumData.needsUpdate=!0,this.calcVolume()},t.prototype.calcVolume=function(){for(var t=0,e=0;e<this.bufferArray.length;e++)t+=this.bufferArray[e];this.volume=t/this.bufferArray.length},t}(),g=function(){function t(){this._isAnimating=!1,this.animatingCount=0,this.variables={}}return Object.defineProperty(t.prototype,"isAnimating",{get:function(){return this._isAnimating},enumerable:!0,configurable:!0}),t.prototype.addVariable=function(t,e,n){var o;o=n?{func:n.func,variables:n.variables||[]}:{func:i.sigmoid,variables:[4]},this.variables[t]={x:1,duration:1,value:e||0,base:0,distance:0,easing:o}},t.prototype.setEasing=function(t,e){var n=this.variables[t];n?n.easing=e:console.warn("variable doesn't exist : "+t)},t.prototype.animate=function(t,e,n,i){var o=this.variables[t];o?(o.x>=1&&(this._isAnimating=!0,this.animatingCount++),o.x=0,o.duration=null!=n?n:1,o.base=o.value,o.distance=e-o.base,o.onMoved=i):console.warn("variable doesn't exist : "+t)},t.prototype.getValue=function(t){return this.variables[t]?this.variables[t].value:(console.warn("variable doesn't exist:"+t),null)},t.prototype.update=function(t){for(var e=Object.keys(this.variables),n=0;n<e.length;n++){var i=this.variables[e[n]];if(i.x<1){0!=i.duration?i.x+=(t||.016)/i.duration:i.x=1;var o=i.easing.func(i.x,i.easing.variables);i.value=i.base+i.distance*o,i.x>=1&&(i.x=1,i.value=i.base+i.distance,this.animatingCount--,0==this.animatingCount&&(this._isAnimating=!1),i.onMoved&&(i.onMoved(),i.onMoved=null))}}},t}(),y=n(3),x=n.n(y),b=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(t){function e(e,n){var i=this,r=new o.BufferGeometry,s=[],a=[],u=[];s.push(-1,1,0),s.push(1,1,0),s.push(1,-1,0),s.push(-1,-1,0),u.push(0,1),u.push(1,1),u.push(1,0),u.push(0,0),a.push(0,2,1,0,3,2);var l=new Float32Array(s),c=new Uint32Array(a),h=new Float32Array(u);r.addAttribute("position",new o.BufferAttribute(l,3)),r.addAttribute("uv",new o.BufferAttribute(h,2)),r.setIndex(new o.BufferAttribute(c,1));var f=new o.ShaderMaterial({uniforms:n,fragmentShader:e,vertexShader:x.a,transparent:!0,depthFunc:o.NeverDepth});return(i=t.call(this,r,f)||this).frustumCulled=!1,i}return b(e,t),e}(o.Mesh),S=n(4),P=n.n(S),_=n(1),T=n.n(_),D=n(5),A=n.n(D),R=function(){function t(t,e,n){var i=this;this.renderer=t,this.resolutionRatio=n||1,this.resolution=new o.Vector2,this.renderer.getSize(this.resolution),this.resolution.multiplyScalar(this.renderer.getPixelRatio()*(this.resolutionRatio?this.resolutionRatio:1)),this.scene=new o.Scene,this.camera=new o.OrthographicCamera(-1,1,1,-1,0,1),this.screenMesh=new o.Mesh(new o.PlaneBufferGeometry(2,2),null),this.scene.add(this.screenMesh),this.initRenderTargets(),e.forEach((function(t){t.uniforms||(t.uniforms={}),t.uniforms.backbuffer||(t.uniforms.backbuffer={value:null}),t.uniforms.resolution||(t.uniforms.resolution={value:i.resolution});var e={material:new o.ShaderMaterial({defines:t.defines||null,linewidth:t.linewidth||null,wireframe:t.wireframe||null,wireframeLinewidth:t.wireframeLinewidth||null,lights:t.lights||null,clipping:t.clipping||null,skinning:t.skinning||null,morphTargets:t.morphTargets||null,morphNormals:t.morphNormals||null,uniforms:t.uniforms||null,vertexShader:"varying vec2 vUv; void main() { vUv = uv; gl_Position = vec4( position, 1.0 ); } ",fragmentShader:t.fragmentShader||null,depthTest:!1,depthFunc:o.NeverDepth,transparent:t.transparent||!1,blending:t.blending||o.NormalBlending}),uniforms:t.uniforms};i.effectMaterials?i.effectMaterials.push(e):i.effectMaterials=[e]}))}return t.prototype.initRenderTargets=function(){this.readBuffer=this.createRenderTarget(),this.writeBuffer=this.createRenderTarget()},t.prototype.createRenderTarget=function(){return new o.WebGLRenderTarget(this.resolution.x,this.resolution.y)},t.prototype.swapBuffers=function(){var t=this.writeBuffer;this.writeBuffer=this.readBuffer,this.readBuffer=t},t.prototype.render=function(t,e,n){var i=this;void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!1);var o=!1,r=!1;"Scene"==t.type?(this.renderer.setRenderTarget(this.readBuffer),this.renderer.clear(),this.renderer.render(t,e),o=n):"boolean"==typeof t?o=t:(this.effectMaterials[0].uniforms.backbuffer.value=t,r=!0,o=e),this.effectMaterials.forEach((function(t,e){i.screenMesh.material=t.material,(!r||e>0)&&(t.uniforms.backbuffer.value=i.readBuffer.texture),e<i.effectMaterials.length-1||o?i.renderer.setRenderTarget(i.writeBuffer):i.renderer.setRenderTarget(null),i.renderer.render(i.scene,i.camera),i.swapBuffers()})),this.resultBuffer=o?this.readBuffer:null},t.prototype.getResultTexture=function(){return this.resultBuffer?this.resultBuffer.texture:null},t.prototype.resize=function(t){var e=t.clone().multiplyScalar(this.resolutionRatio);this.resolution.set(e.x,e.y),this.readBuffer.setSize(e.x,e.y),this.writeBuffer.setSize(e.x,e.y)},t}(),z=function(){function t(t,e){this.renderCount=5,this.threshold=.9,this.brightness=.9,this.blurRange=10,this.renderer=t,this.blurTextureResolutionRatio=e||.1,this.resolution=new o.Vector2,this.renderer.getSize(this.resolution),this.resolution.multiplyScalar(this.renderer.getPixelRatio()),this.init()}return t.prototype.init=function(){this.sceneTex={value:null},this.blurResolution=(new o.Vector2).copy(this.resolution.clone().divideScalar(this.blurRange)),this._brightUni={threshold:{value:this.threshold}},this._blurUni1={direction:{value:!0},resolution:{value:this.blurResolution}},this._blurUni2={direction:{value:!1},resolution:{value:this.blurResolution}},this._bloomUni={sceneTex:this.sceneTex,brightness:{value:this.brightness}};var t=[{fragmentShader:P.a,uniforms:this._brightUni}],e=[{fragmentShader:T.a,uniforms:this._blurUni1},{fragmentShader:T.a,uniforms:this._blurUni2}],n=[{fragmentShader:A.a,uniforms:this._bloomUni}];this._brightPP=new R(this.renderer,t,this.blurTextureResolutionRatio),this._blurPP=new R(this.renderer,e,this.blurTextureResolutionRatio),this._bloomPP=new R(this.renderer,n),this.sceneRenderTarget=this._bloomPP.createRenderTarget()},t.prototype.render=function(t,e){this._brightUni.threshold.value=this.threshold,this._bloomUni.brightness.value=this.brightness,this.blurResolution.copy(this.resolution.clone().divideScalar(this.blurRange)),this.renderer.setRenderTarget(this.sceneRenderTarget),this.renderer.render(t,e),this.sceneTex.value=this.sceneRenderTarget.texture,this._brightPP.render(this.sceneRenderTarget.texture,!0);for(var n=this._brightPP.getResultTexture(),i=0;i<this.renderCount;i++)this._blurPP.render(n,!0),n=this._blurPP.getResultTexture();this._bloomPP.render(n,!1)},t.prototype.resize=function(t){this.resolution.copy(t),this.blurResolution.copy(this.resolution.clone().divideScalar(this.blurRange)),this.sceneRenderTarget.setSize(t.x,t.y),this._brightPP.resize(t),this._blurPP.resize(t),this._bloomPP.resize(t)},t}(),C=n(6),M=n.n(C),F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(t){function e(e,n){var i=this,r=new o.PlaneBufferGeometry(2,2,1,1);n.vertexShader=M.a;var s=new o.ShaderMaterial(n);(i=t.call(this,r,s)||this).frustumCulled=!1,i.dom=e,i.uni=n.uniforms;var a=i.dom.getBoundingClientRect();return i.domPos=new o.Vector2(a.left,a.right),i.domSize=new o.Vector2(a.width,a.height),i.windowSize=new o.Vector2(window.innerWidth,window.innerHeight),i.uni.domPos={value:i.domPos},i.uni.domSize={value:i.domSize},i.uni.windowSize={value:i.windowSize},i}return F(e,t),Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uni},enumerable:!0,configurable:!0}),e.prototype.updateDom=function(){this.windowSize.set(window.innerWidth,window.innerHeight);var t=this.dom.getBoundingClientRect();this.domSize.set(t.width,t.height),this.domPos.set(t.left,t.top)},e}(o.Mesh),k=n(7),E=n.n(k),V=n(2),L=n.n(V),B=n(8),I=n.n(B),N=n(9),U=n.n(N),j=n(10),H=n.n(j),W=function(){function t(t,e){this.renderer=t,this.resolution=e,this.tempDataLinear=this.createData({minFilter:o.LinearFilter,magFilter:o.LinearFilter}),this.tempDataNear=this.createData({minFilter:o.NearestFilter,magFilter:o.NearestFilter}),this.scene=new o.Scene,this.camera=new o.Camera,this.camera.position.z=1,this.materials=[],this.mesh=new o.Mesh(new o.PlaneBufferGeometry(2,2)),this.scene.add(this.mesh)}return Object.defineProperty(t.prototype,"isSupported",{get:function(){return this.renderer.extensions.get("OES_texture_float")},enumerable:!0,configurable:!0}),t.prototype.createInitializeTexture=function(){var t=new Float32Array(this.resolution.x*this.resolution.y*4),e=new o.DataTexture(t,this.resolution.x,this.resolution.y,o.RGBAFormat,o.FloatType);return e.needsUpdate=!0,e},t.prototype.createData=function(t,e){var n,i,r={wrapS:o.ClampToEdgeWrapping,wrapT:o.ClampToEdgeWrapping,minFilter:o.LinearFilter,magFilter:o.LinearFilter,format:o.RGBAFormat,type:/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?o.HalfFloatType:o.FloatType,stencilBuffer:!1,depthBuffer:!1};t&&(t.isDataTexture?(n=t,e&&(i=e)):i=t),i&&(r.wrapS=i.wrapS||r.wrapS,r.wrapT=i.wrapT||r.wrapT,r.minFilter=i.minFilter||r.minFilter,r.magFilter=i.magFilter||r.magFilter,r.format=i.format||r.format,r.type=i.type||r.type,r.stencilBuffer=i.stencilBuffer||r.stencilBuffer,r.depthBuffer=i.depthBuffer||r.depthBuffer);var s={buffer:new o.WebGLRenderTarget(this.resolution.x,this.resolution.y,r)};if(n){var a=this.createKernel(H.a);a.uniforms.texture={value:n},this.compute(a,s)}return s},t.prototype.createKernel=function(t){var e={resolution:{value:this.resolution}},n=new o.ShaderMaterial({vertexShader:U.a,fragmentShader:t,uniforms:e});return this.materials.push(n),{material:n,uniforms:e}},t.prototype.compute=function(t,e){var n;n=e.buffer.texture.magFilter==o.LinearFilter?this.tempDataLinear:this.tempDataNear,this.mesh.material=t.material,this.renderer.setRenderTarget(n.buffer),this.renderer.render(this.scene,this.camera),this.swapBuffers(e,n),this.renderer.setRenderTarget(null)},t.prototype.swapBuffers=function(t,e){var n=t.buffer;t.buffer=e.buffer,e.buffer=n},t.prototype.dispose=function(){this.mesh.geometry.dispose();for(var t=0;t<this.materials.length;t++)this.materials[t].dispose();this.scene.remove(this.mesh),this.tempDataLinear.buffer.dispose()},t}(),G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y=function(t){function e(e,n,i,r){void 0===r&&(r=null);var s=t.call(this)||this;s.renderer=e,s.num=n,s.length=i,s.fragment=null!=r?r:L.a,s.gcController=new W(s.renderer,new o.Vector2(s.length,s.num)),s.kernels={position:s.gcController.createKernel(E.a),velocity:s.gcController.createKernel(L.a)};var a=s.gcController.createInitializeTexture();return s.initPosition(a),s.positionData=s.gcController.createData(a),s.velocityData=s.gcController.createData(),a.dispose(),s.kernels.position.uniforms.texturePosition={value:null},s.kernels.position.uniforms.textureVelocity={value:null},s.kernels.velocity.uniforms.texturePosition={value:null},s.kernels.velocity.uniforms.textureVelocity={value:null},s.kernels.velocity.uniforms.time={value:0},s.kernels.velocity.uniforms.seed={value:100*Math.random()},s.createTrails(),s}return G(e,t),e.prototype.initPosition=function(t){for(var e=t.image.data,n=new o.Vector3(10,10,10),i=0;i<e.length;i+=4*this.length)for(var r=Math.random()*n.x-n.x/2,s=Math.random()*n.y-n.y/2,a=Math.random()*n.z-n.z/2,u=0;u<4*this.length;u+=4)e[i+u+0]=r,e[i+u+1]=s,e[i+u+2]=a,e[i+u+3]=1},e.prototype.createTrails=function(){for(var t=new o.InstancedBufferGeometry,e=[],n=[],i=[],r=[],s=[],a=0;a<this.length;a++)for(var u=a,l=0;l<10;l++){var c=2*Math.PI/10*l,h=.1*Math.cos(c),f=.1*Math.sin(c);0,e.push(h),e.push(f),e.push(0);var p=new o.Vector3(h,f,0);p.normalize(),i.push(p.x,p.y,p.z),r.push(a/this.length);var v=10*u+l;a>0&&(n.push(v),n.push(10*(u-1)+(l+1)%10),n.push(10*u+(l+1)%10),n.push(v),n.push(v-10),n.push(10*(u-1)+(l+1)%10))}var d=new Float32Array(e),m=new Float32Array(i),g=new Uint32Array(n),y=new Float32Array(r);t.addAttribute("position",new o.BufferAttribute(d,3)),t.addAttribute("uvx",new o.BufferAttribute(y,1)),t.addAttribute("normal",new o.BufferAttribute(m,3)),t.setIndex(new o.BufferAttribute(g,1));for(var x=0;x<this.num;x++)s.push(x/this.num);var b=new Float32Array(s);t.addAttribute("uvy",new o.InstancedBufferAttribute(b,1,!1,1));var w=o.ShaderLib.standard;this.uni=o.UniformsUtils.merge([w.uniforms,{texturePosition:{value:null},textureVelocity:{value:null}}]);var S=new o.ShaderMaterial({uniforms:this.uni,vertexShader:I.a,fragmentShader:w.fragmentShader,lights:!0,flatShading:!0}),P=new o.Mesh(t,S);P.matrixAutoUpdate=!1,P.updateMatrix(),this.add(P)},e.prototype.update=function(t){this.kernels.velocity.uniforms.time.value=t,this.kernels.velocity.uniforms.textureVelocity.value=this.velocityData.buffer.texture,this.kernels.velocity.uniforms.texturePosition.value=this.positionData.buffer.texture,this.gcController.compute(this.kernels.velocity,this.velocityData),this.kernels.position.uniforms.textureVelocity.value=this.velocityData.buffer.texture,this.kernels.position.uniforms.texturePosition.value=this.positionData.buffer.texture,this.gcController.compute(this.kernels.position,this.positionData),this.uni.texturePosition.value=this.positionData.buffer.texture,this.uni.textureVelocity.value=this.velocityData.buffer.texture},e.prototype.dispose=function(){this.positionData.buffer.dispose(),this.velocityData.buffer.dispose(),this.gcController.dispose()},e}(o.Object3D),X=n(11),q=n.n(X),Q=n(12),K=n.n(Q),Z=n(13),J=n.n(Z),$=n(14),tt=n.n($),et=n(15),nt=n.n(et),it=n(16),ot=n.n(it),rt=function(){function t(t,e){this.parameter={solverIteration:20,screenAspect:1,pointerSize:1,curl:.1,velocityAttenuation:.95,pressureAttenuation:.8},this.time=0,this.renderer=t,this.resolution=e,this.gcConroller=new W(this.renderer,this.resolution),this.kernels={curl:this.gcConroller.createKernel(ot.a),divergence:this.gcConroller.createKernel(tt.a),velocity:this.gcConroller.createKernel(J.a),gradientSubtract:this.gcConroller.createKernel(K.a),pressure:this.gcConroller.createKernel(q.a),advect:this.gcConroller.createKernel(nt.a)},this.kernels.curl.uniforms.dataTex={value:null},this.kernels.curl.uniforms.curl={value:this.parameter.curl},this.kernels.velocity.uniforms.dataTex={value:null},this.kernels.velocity.uniforms.curlTex={value:null},this.kernels.velocity.uniforms.screenAspect={value:this.parameter.screenAspect},this.kernels.velocity.uniforms.pointerPos={value:0},this.kernels.velocity.uniforms.pointerVec={value:0},this.kernels.velocity.uniforms.pointerSize={value:this.parameter.pointerSize},this.kernels.pressure.uniforms.dataTex={value:null},this.kernels.gradientSubtract.uniforms.dataTex={value:null},this.kernels.divergence.uniforms.dataTex={value:null},this.kernels.advect.uniforms.dataTex={value:null},this.kernels.advect.uniforms.velocityAttenuation={value:this.parameter.velocityAttenuation},this.kernels.advect.uniforms.pressureAttenuation={value:this.parameter.pressureAttenuation},this.fluidData=this.gcConroller.createData({magFilter:o.LinearFilter,minFilter:o.LinearFilter}),this.curlData=this.gcConroller.createData({magFilter:o.LinearFilter,minFilter:o.LinearFilter})}return t.prototype.update=function(t){this.time+=t,this.kernels.curl.uniforms.curl.value=this.parameter.curl,this.kernels.velocity.uniforms.screenAspect.value=this.parameter.screenAspect,this.kernels.velocity.uniforms.pointerSize.value=this.parameter.pointerSize,this.kernels.advect.uniforms.velocityAttenuation.value=this.parameter.velocityAttenuation,this.kernels.advect.uniforms.pressureAttenuation.value=this.parameter.pressureAttenuation,this.kernels.curl.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.curl,this.curlData),this.kernels.velocity.uniforms.dataTex.value=this.fluidData.buffer.texture,this.kernels.velocity.uniforms.curlTex.value=this.curlData.buffer.texture,this.gcConroller.compute(this.kernels.velocity,this.fluidData),this.kernels.divergence.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.divergence,this.fluidData);for(var e=0;e<20;e++)this.kernels.pressure.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.pressure,this.fluidData);this.kernels.gradientSubtract.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.gradientSubtract,this.fluidData),this.kernels.advect.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.advect,this.fluidData)},t.prototype.setPointer=function(t,e){this.kernels.velocity.uniforms.pointerPos.value=t,this.kernels.velocity.uniforms.pointerVec.value=e},t.prototype.getTexture=function(){return this.fluidData.buffer.texture},t.prototype.resize=function(t,e){},t}();n.d(e,"Controller",(function(){return a})),n.d(e,"Cursor",(function(){return r})),n.d(e,"PageScroller",(function(){return l})),n.d(e,"PageScrollerSection",(function(){return c})),n.d(e,"BaseScene",(function(){return h})),n.d(e,"MouseRotator",(function(){return f})),n.d(e,"MouseVertexRotator",(function(){return p})),n.d(e,"TransformAnimator",(function(){return v})),n.d(e,"AudioPlayer",(function(){return d})),n.d(e,"MicData",(function(){return m})),n.d(e,"Animator",(function(){return g})),n.d(e,"Background",(function(){return w})),n.d(e,"BloomFilter",(function(){return z})),n.d(e,"DomGLSL",(function(){return O})),n.d(e,"Easings",(function(){return i})),n.d(e,"Fish",(function(){return Y})),n.d(e,"GPUComputationController",(function(){return W})),n.d(e,"PostProcessing",(function(){return R})),n.d(e,"StableFluids",(function(){return rt}))}]);