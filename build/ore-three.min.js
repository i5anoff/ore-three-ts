window.ORE=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=18)}([function(t,e){t.exports=window.THREE},function(t,e){t.exports='varying vec2 vUv;\r\nuniform sampler2D backbuffer;\r\nuniform vec2 resolution;\r\n\r\nuniform bool direction;\r\nuniform float gaussVar;\r\n\r\n/*\r\nhttps://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/\r\n\r\nThe MIT License (MIT) Copyright (c) 2015 Jam3\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\r\n\tvec4 color = vec4(0.0);\r\n\tvec2 off1 = vec2(1.3846153846) * direction;\r\n\tvec2 off2 = vec2(3.2307692308) * direction;\r\n\tcolor += texture2D(image, uv) * 0.2270270270;\r\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\r\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\r\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\r\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\r\n\treturn color;\r\n}\r\n\r\nvoid main(){\r\n\r\n\tvec4 c = blur9(backbuffer,vUv,resolution,direction ? vec2(1.0,0.0) : vec2(0.0, 1.0));\r\n\r\n\tgl_FragColor = c;\r\n}'},function(t,e){t.exports="uniform sampler2D texturePosition;\r\nuniform sampler2D textureVelocity;\r\nuniform vec2 resolution;\r\nuniform float time;\r\nuniform float seed;\r\n\r\n//\r\n// Description : Array and textureless GLSL 2D/3D/4D simplex \r\n//               noise functions.\r\n//      Author : Ian McEwan, Ashima Arts.\r\n//  Maintainer : stegu\r\n//     Lastmod : 20110822 (ijm)\r\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\r\n//               Distributed under the MIT License. See LICENSE file.\r\n//               https://github.com/ashima/webgl-noise\r\n//               https://github.com/stegu/webgl-noise\r\n// \r\n\r\nvec4 mod289(vec4 x) {\r\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\r\n\r\nfloat mod289(float x) {\r\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\r\n\r\nvec4 permute(vec4 x) {\r\n     return mod289(((x*34.0)+1.0)*x);\r\n}\r\n\r\nfloat permute(float x) {\r\n     return mod289(((x*34.0)+1.0)*x);\r\n}\r\n\r\nvec4 taylorInvSqrt(vec4 r)\r\n{\r\n  return 1.79284291400159 - 0.85373472095314 * r;\r\n}\r\n\r\nfloat taylorInvSqrt(float r)\r\n{\r\n  return 1.79284291400159 - 0.85373472095314 * r;\r\n}\r\n\r\nvec4 grad4(float j, vec4 ip)\r\n  {\r\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\r\n  vec4 p,s;\r\n\r\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\r\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\r\n  s = vec4(lessThan(p, vec4(0.0)));\r\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; \r\n\r\n  return p;\r\n  }\r\n\t\t\t\t\t\t\r\n// (sqrt(5) - 1)/4 = F4, used once below\r\n#define F4 0.309016994374947451\r\n\r\nfloat snoise(vec4 v)\r\n  {\r\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\r\n                        0.276393202250021,  // 2 * G4\r\n                        0.414589803375032,  // 3 * G4\r\n                       -0.447213595499958); // -1 + 4 * G4\r\n\r\n// First corner\r\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\r\n  vec4 x0 = v -   i + dot(i, C.xxxx);\r\n\r\n// Other corners\r\n\r\n// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\r\n  vec4 i0;\r\n  vec3 isX = step( x0.yzw, x0.xxx );\r\n  vec3 isYZ = step( x0.zww, x0.yyz );\r\n//  i0.x = dot( isX, vec3( 1.0 ) );\r\n  i0.x = isX.x + isX.y + isX.z;\r\n  i0.yzw = 1.0 - isX;\r\n//  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\r\n  i0.y += isYZ.x + isYZ.y;\r\n  i0.zw += 1.0 - isYZ.xy;\r\n  i0.z += isYZ.z;\r\n  i0.w += 1.0 - isYZ.z;\r\n\r\n  // i0 now contains the unique values 0,1,2,3 in each channel\r\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\r\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\r\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\r\n\r\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\r\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\r\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\r\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\r\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\r\n  vec4 x1 = x0 - i1 + C.xxxx;\r\n  vec4 x2 = x0 - i2 + C.yyyy;\r\n  vec4 x3 = x0 - i3 + C.zzzz;\r\n  vec4 x4 = x0 + C.wwww;\r\n\r\n// Permutations\r\n  i = mod289(i); \r\n  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);\r\n  vec4 j1 = permute( permute( permute( permute (\r\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\r\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\r\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\r\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\r\n\r\n// Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\r\n// 7*7*6 = 294, which is close to the ring size 17*17 = 289.\r\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\r\n\r\n  vec4 p0 = grad4(j0,   ip);\r\n  vec4 p1 = grad4(j1.x, ip);\r\n  vec4 p2 = grad4(j1.y, ip);\r\n  vec4 p3 = grad4(j1.z, ip);\r\n  vec4 p4 = grad4(j1.w, ip);\r\n\r\n// Normalise gradients\r\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\r\n  p0 *= norm.x;\r\n  p1 *= norm.y;\r\n  p2 *= norm.z;\r\n  p3 *= norm.w;\r\n  p4 *= taylorInvSqrt(dot(p4,p4));\r\n\r\n// Mix contributions from the five corners\r\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\r\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\r\n  m0 = m0 * m0;\r\n  m1 = m1 * m1;\r\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))\r\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\r\n\r\n  }\r\n\r\nvoid main() {\r\n    if(gl_FragCoord.x >= 1.0) return;    \r\n    \r\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\r\n    vec3 pos = texture2D( texturePosition, uv ).xyz;\r\n    vec3 vel = texture2D( textureVelocity, uv ).xyz;\r\n    float idParticle = uv.y * resolution.x + uv.x;\r\n    float scale = 0.08;\r\n    \r\n    vel.xyz += 40.0 * vec3(\r\n      snoise( vec4( scale * pos.xyz, 7.225 * seed * 200.0 + 0.4 * time ) ),\r\n      snoise( vec4( scale * pos.xyz, 3.553 * seed + 0.4 * time ) ),\r\n      snoise( vec4( scale * pos.xyz, 1.259 * seed * 10.0 + 0.4 * time ) )\r\n    ) * 0.05;\r\n\r\n    vec3 gpos = pos - vec3(0.0,0.0,0.0);\r\n    vel += -(gpos)* length(gpos) * 0.005;\r\n\r\n    vel.xyz *= 0.9 + abs(sin(uv.y * 9.0)) * 0.05;\r\n\r\n    gl_FragColor = vec4( vel.xyz, 1.0 );\r\n}"},function(t,e){t.exports="varying vec2 vUv;\r\n\r\nvoid main() {\r\n    vec3 pos = position;\r\n    pos.z = 1.0;\r\n    gl_Position = vec4(pos,1.0);\r\n    vUv = uv;\r\n}\r\n\r\n\r\n"},function(t,e){t.exports="uniform sampler2D backbuffer;\r\nuniform vec2 resolution;\r\nvarying vec2 vUv;\r\n\r\nuniform float threshold;\r\n\r\nvoid main(){\r\n\tvec3 c = texture2D(backbuffer,vUv).xyz;\r\n\tfloat f = max(0.0,length(c) * 1.2 - length(vec3(threshold)));\r\n\tgl_FragColor = vec4(vec3(c) * f,1.0);\r\n}"},function(t,e){t.exports="varying vec2 vUv;\r\nuniform sampler2D backbuffer;\r\nuniform vec2 resolution;\r\n\r\nuniform sampler2D sceneTex;\r\nuniform float brightness;\r\n\r\nvoid main(){\r\n\tgl_FragColor = texture2D(sceneTex, vUv) * 1.0 + texture2D(backbuffer, vUv) * brightness;\r\n}"},function(t,e){t.exports="varying vec2 vUv;\r\nuniform vec2 domPos;\r\nuniform vec2 domSize;\r\nuniform vec2 windowSize;\r\nuniform float time;\r\n\r\nvoid main()\r\n{\r\n  float aspect = windowSize.x / windowSize.y;\r\n  float width = domSize.x / windowSize.x;\r\n\r\n  //左上(0,0)に\r\n  vec3 pos = position + vec3(1.0,-1.0,0.0);\r\n\r\n  //size\r\n  pos.x *= width;\r\n  pos.y *= (width * aspect) * (domSize.y / domSize.x);\r\n\r\n  //left top\r\n  pos += vec3(-1.0,1.0,0.0);\r\n\r\n  //dom position (windowは(-1.0,-1.0)-(1.0,1.0)なので *2 が必要)\r\n  pos += vec3(domPos.x / windowSize.x * 2.0,-domPos.y / windowSize.y * 2.0,0.0);\r\n\r\n  gl_Position = vec4(pos, 1.0);\r\n  vUv = uv;\r\n}\r\n"},function(t,e){t.exports="uniform sampler2D texturePosition;\r\nuniform sampler2D textureVelocity;\r\nuniform vec2 resolution;\r\n\r\nvoid main() {\r\n    if(gl_FragCoord.x <= 1.0){\r\n        vec2 uv = gl_FragCoord.xy / resolution.xy;\r\n        vec3 pos = texture2D( texturePosition, uv ).xyz;\r\n        vec3 vel = texture2D( textureVelocity, uv ).xyz;\r\n\r\n        pos += vel * 0.01;\r\n        gl_FragColor = vec4(pos,1.0);\r\n        \r\n    }else{\r\n        vec2 uv = gl_FragCoord.xy / resolution.xy;\r\n        vec2 bUV = (gl_FragCoord.xy - vec2(1.0,0.0)) / resolution.xy;\r\n        vec3 bPos = texture2D( texturePosition, bUV ).xyz;;\r\n        gl_FragColor = vec4(bPos,1.0);\r\n    }\r\n}"},function(t,e){t.exports="varying vec3 vViewPosition;\r\nattribute float uvx;\r\nattribute float uvy;\r\nuniform sampler2D texturePosition;\r\nuniform float camY;\r\n\r\nfloat PI = 3.14159265;\r\n\r\nfloat atan2(float y, float x)\r\n{\r\n    return x == 0.0 ? sign(y) * PI / 2.0 : atan(y, x);\r\n}\r\n\r\nmat2 rotate(float rad){\r\n    return mat2(cos(rad),sin(rad),-sin(rad),cos(rad));\r\n}\r\n\r\nvoid main() {\r\n    vec2 nUV = vec2(uvx,uvy) + vec2(1.0,0.0);\r\n    \r\n    if(nUV.x >= 1.0){\r\n        nUV = vec2(uvx,uvy) - vec2(1.0,0.0);\r\n    }\r\n\r\n    vec3 p = position * 0.3;\r\n    vec3 pos = texture2D( texturePosition, vec2(uvx,uvy)).xyz;\r\n    vec3 nPos = texture2D( texturePosition, nUV).xyz;\r\n\r\n    vec3 vec = normalize(nPos - pos);\r\n    float rotX = atan2(vec.y,vec.z);\r\n\r\n    p.xy *= sin(uvx * PI) * (sin(uvy * PI) * 1.0 + 0.1);\r\n    p.yz *= rotate(rotX);\r\n\r\n    vec4 mvPosition = modelViewMatrix * vec4(p + pos, 1.0 );\r\n    gl_Position = projectionMatrix * mvPosition;\r\n\r\n    vViewPosition = -mvPosition.xyz;\r\n}\r\n\r\n\r\n"},function(t,e){t.exports="varying vec2 vUv;\r\n\r\nvoid main() {\r\n    gl_Position = vec4( position, 1.0 );\r\n    vUv = uv;\r\n}"},function(t,e){t.exports="uniform sampler2D texture;\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n    gl_FragColor = texture2D(texture,vUv);\r\n}"},function(t,e){t.exports="uniform float alpha;\r\nuniform float beta;\r\nuniform vec2 resolution;\r\nuniform sampler2D dataTex;\r\n\r\nfloat sampleData( sampler2D tex, vec2 uv, vec2 resolution ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n\t\r\n\t}\r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n\t\r\n\t}\r\n\r\n\treturn texture2D( tex, uv + offset / resolution ).z;\r\n\r\n}\r\n\r\nvoid main(){\r\n  vec4 data = texture2D(dataTex, gl_FragCoord.xy / resolution);\r\n\r\n  float l = sampleData(dataTex, (gl_FragCoord.xy - vec2(1.0, 0.0)) / resolution, resolution);\r\n  float r = sampleData(dataTex, (gl_FragCoord.xy + vec2(1.0, 0.0)) / resolution, resolution);\r\n  float t = sampleData(dataTex, (gl_FragCoord.xy - vec2(0.0, 1.0)) / resolution, resolution);\r\n  float b = sampleData(dataTex, (gl_FragCoord.xy + vec2(0.0, 1.0)) / resolution, resolution);\r\n\r\n  float divergence = data.w;\r\n  float pressure = ((l + r + t + b) - divergence) * 0.25;\r\n\r\n  gl_FragColor = vec4(data.xy, pressure, divergence);\r\n}"},function(t,e){t.exports="precision mediump float;\r\nprecision mediump sampler2D;\r\n\r\nuniform vec2 resolution;\r\nuniform sampler2D dataTex;\r\n\r\n\t\r\nfloat sampleData( sampler2D tex, vec2 uv, vec2 resolution ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n\t\r\n\t}\r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n\t\r\n\t}\r\n\r\n\treturn texture2D( tex, uv + offset / resolution ).z;\r\n\r\n}\r\n\r\n    void main () {\r\n\r\n\t\tvec2 uv = gl_FragCoord.xy / resolution;\r\n\r\n\t\tfloat l = sampleData(dataTex, (gl_FragCoord.xy - vec2(1.0, 0.0)) / resolution, resolution);\r\n\t\tfloat r = sampleData(dataTex, (gl_FragCoord.xy + vec2(1.0, 0.0)) / resolution, resolution);\r\n\t\tfloat t = sampleData(dataTex, (gl_FragCoord.xy - vec2(0.0, 1.0)) / resolution, resolution);\r\n\t\tfloat b = sampleData(dataTex, (gl_FragCoord.xy + vec2(0.0, 1.0)) / resolution, resolution);\r\n\r\n        vec4 data = texture2D(dataTex, uv);\r\n\r\n        data.xy -= vec2(r - l, b - t);\r\n        gl_FragColor = data;\r\n    }"},function(t,e){t.exports="\r\nuniform float time;\r\nuniform vec2 resolution;\r\n\r\nuniform sampler2D dataTex;\r\nuniform sampler2D curlTex;\r\n\r\nuniform vec2 pointerPos;\r\nuniform vec2 pointerVec;\r\nuniform float pointerSize;\r\n\r\nuniform float screenAspect;\r\n\r\nvec2 smapleVelocity( sampler2D tex, vec2 uv, vec2 resolution ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n\tfloat w = 1.0;\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n\t\tw = -1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n\t\tw = -1.0;\r\n\t\r\n\t}\r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n\t\tw = -1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n\t\tw = -1.0;\r\n\t\r\n\t}\r\n\r\n\treturn w * texture2D( tex, uv + offset / resolution ).xy;\r\n\r\n}\r\n\r\nfloat samplePressure( sampler2D tex, vec2 uv, vec2 resolution ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n  \tfloat w = 1.0;\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n    w = - 1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n    w = - 1.0;\r\n    \r\n\t} \r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n    w = - 1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n    w = - 1.0;\r\n\t\r\n\t}\r\n\r\n\treturn w * texture2D( tex, uv + offset / resolution ).z;\r\n\r\n}\r\n\r\nvoid main(){\r\n\tvec2 uv = gl_FragCoord.xy / resolution;\r\n\r\n\tvec2 offsetX = vec2(1.0, 0.0);\r\n\tvec2 offsetY = vec2(0.0, 1.0);\r\n\r\n\tfloat l = smapleVelocity(curlTex, (gl_FragCoord.xy - offsetX) / resolution, resolution).x;\r\n\tfloat r = smapleVelocity(curlTex, (gl_FragCoord.xy + offsetX) / resolution, resolution).x;\r\n\tfloat t = smapleVelocity(curlTex, (gl_FragCoord.xy - offsetY) / resolution, resolution).x;\r\n\tfloat b = smapleVelocity(curlTex, (gl_FragCoord.xy + offsetY) / resolution, resolution).x;\r\n\tfloat c = texture2D(curlTex, uv).x;\r\n\t\r\n\tvec2 force = 0.5 * vec2(abs(b) - abs(t), abs(r) - abs(l));\r\n\tforce /= length(force) + 0.0001;\r\n\tforce *= 1.0 * c;\r\n\tforce.y *= -1.0;\r\n\r\n\tvec4 data = texture2D( dataTex, uv);\r\n\r\n\tfloat pointerW = 1.0 - smoothstep( 0.0, pointerSize * 0.15, length(uv * vec2( screenAspect, 1.0 ) - pointerPos * vec2( screenAspect, 1.0 ) ) );\r\n\tvec2 mouse = vec2( 0.0, 0.0 );\r\n\tmouse += pointerW * pointerVec * 0.1;\r\n\t// data.xy = mix( data.xy, pointerVec * 0.3, pointerW);\r\n\r\n\tgl_FragColor = vec4(data.xy + mouse + force * 0.5, data.zw);\r\n}"},function(t,e){t.exports="uniform vec2 resolution;\r\nuniform sampler2D dataTex;\r\n\r\nvec2 sampleData( sampler2D tex, vec2 uv, vec2 resolution ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n\tfloat w = 1.0;\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n\t\tw = -1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n\t\tw = -1.0;\r\n\t\r\n\t}\r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n\t\tw = -1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n\t\tw = -1.0;\r\n\t\r\n\t}\r\n\r\n\treturn w * texture2D( tex, uv + offset / resolution ).xy;\r\n\r\n}\r\n\r\nvoid main(){\r\n\r\n  vec4 data = texture2D(dataTex, gl_FragCoord.xy / resolution);\r\n\r\n  vec2 offsetX = vec2(1.0, 0.0);\r\n  vec2 offsetY = vec2(0.0, 1.0);\r\n\r\n  vec2 l = sampleData(dataTex, (gl_FragCoord.xy - offsetX) / resolution, resolution);\r\n  vec2 r = sampleData(dataTex, (gl_FragCoord.xy + offsetX) / resolution, resolution);\r\n  vec2 t = sampleData(dataTex, (gl_FragCoord.xy - offsetY) / resolution, resolution);\r\n  vec2 b = sampleData(dataTex, (gl_FragCoord.xy + offsetY) / resolution, resolution);\r\n\r\n  float divergence = ((r.x - l.x) + (b.y - t.y)) * 0.5;\r\n\r\n  gl_FragColor = vec4(data.xyz, divergence);\r\n}"},function(t,e){t.exports="uniform vec2 resolution;\r\nuniform sampler2D dataTex;\r\n\r\nuniform float velocityAttenuation;\r\nuniform float pressureAttenuation;\r\n\r\nvec2 sampleVelocity( sampler2D tex, vec2 uv, vec2 resolution ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n\tfloat w = 1.0;\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n\t\tw = - 1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n\t\tw = - 1.0;\r\n\t\r\n\t}\r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n\t\tw = - 1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n\t\tw = - 1.0;\r\n\t\r\n\t}\r\n\r\n\treturn w * texture2D( tex, uv + offset / resolution ).xy;\r\n\r\n}\r\n\r\nfloat samplePressure( sampler2D tex, vec2 uv, vec2 resolution ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n\t\r\n\t}\r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n\t\r\n\t}\r\n\r\n\treturn texture2D( tex, uv + offset / resolution ).z;\r\n\r\n}\r\n\r\nvoid main(){\r\n\tvec2 uv =  gl_FragCoord.xy / resolution;\r\n\tvec2 p = gl_FragCoord.xy - sampleVelocity(dataTex, uv, resolution);\r\n\tgl_FragColor = vec4(sampleVelocity(dataTex, p / resolution,resolution) * velocityAttenuation, samplePressure(dataTex, uv, resolution) * pressureAttenuation, 0.0);\r\n}"},function(t,e){t.exports="uniform sampler2D dataTex;\r\nuniform vec2 resolution;\r\nuniform float curl;\r\n\r\nvec2 sampleData( sampler2D tex, vec2 uv, vec2 res ){\r\n\r\n\tvec2 offset = vec2( 0.0, 0.0 );\r\n\tfloat w = 1.0;\r\n\t\r\n\tif( uv.x < 0.0 ){\r\n\r\n\t\toffset.x = 1.0;\r\n\t\tw = -1.0;\r\n\r\n\t}else if( uv.x > 1.0 ){\r\n\r\n\t\toffset.x = -1.0;\r\n\t\tw = -1.0;\r\n\t\r\n\t}\r\n\r\n\tif( uv.y < 0.0 ){\r\n\r\n\t\toffset.y = 1.0;\r\n\t\tw = -1.0;\r\n\r\n\t}else if( uv.y > 1.0 ){\r\n\t\t\r\n\t\toffset.y = -1.0;\r\n\t\tw = -1.0;\r\n\t\r\n\t}\r\n\r\n\treturn w * texture2D( tex, uv + offset / res ).xy;\r\n\r\n}\r\n\r\nvoid main () {\r\n\tvec2 uv = gl_FragCoord.xy / resolution;\r\n\r\n\tvec2 offsetX = vec2(1.0, 0.0);\r\n\tvec2 offsetY = vec2(0.0, 1.0);\r\n\r\n\tfloat l = sampleData(dataTex, (gl_FragCoord.xy - offsetX) / resolution, resolution).y;\r\n\tfloat r = sampleData(dataTex, (gl_FragCoord.xy + offsetX) / resolution, resolution).y;\r\n\tfloat t = sampleData(dataTex, (gl_FragCoord.xy - offsetY) / resolution, resolution).x;\r\n\tfloat b = sampleData(dataTex, (gl_FragCoord.xy + offsetY) / resolution, resolution).x;\r\n\r\n\tfloat c = (r - l - b + t);\r\n\tgl_FragColor = vec4(curl * c, 0.0, 0.0, 1.0);\r\n}"},function(t){t.exports=JSON.parse('{"name":"ore-three-ts","version":"0.3.4","description":"Three.js utils.","main":"build/ore-three.js","scripts":{"dev":"webpack-dev-server --watch-content-base --config ./webpack/dev.config.js","build":"npm run build:module && npm run build:min && npm run build:types && npm run build:typedoc","build:module":"webpack --config ./webpack/build-module.config.js","build:min":"webpack --config ./webpack/build-min.config.js","build:types":"tsc --emitDeclarationOnly","build:typedoc":"typedoc --out ./docs/ ./src/ --mode file --name ore-three"},"repository":{"type":"git","url":"git@github.com:ukonpower/ore-three-ts.git"},"keywords":["threejs","webgl"],"types":"types/index.d.ts","files":["build","src","types"],"author":"ukonpower","bugs":{"url":"https://github.com/ukonpower/ore-three-ts/issues"},"license":"MIT","devDependencies":{"shader-loader":"^1.3.1","ts-loader":"^6.0.0","typedoc":"^0.14.2","typescript":"^3.4.5","webpack":"^4.30.0","webpack-cli":"^3.3.2","webpack-dev-server":"^3.3.1","webpack-merge":"^4.2.1"},"dependencies":{"three":"^0.107.0"}}')},function(t,e,r){"use strict";r.r(e);var n,o=r(0),i=function(){function t(){this.attenuation=.9,this.hoverMode=!1,this._position=new o.Vector2(0,0),this._delta=new o.Vector2(0,0),this._hoverPosition=new o.Vector2(0,0),this._hoverDelta=new o.Vector2(0,0);var t=navigator.userAgent;t.indexOf("iPhone")>=0||t.indexOf("iPad")>=0||t.indexOf("Android")>=0?(window.addEventListener("touchstart",this._TouchStart.bind(this)),window.addEventListener("touchmove",this._TouchMove.bind(this),{passive:!1}),window.addEventListener("touchend",this._TouchEnd.bind(this))):(window.addEventListener("mousedown",this._TouchStart.bind(this)),window.addEventListener("mousemove",this._TouchMove.bind(this)),window.addEventListener("mouseup",this._TouchEnd.bind(this)),window.addEventListener("dragend",this._TouchEnd.bind(this)),window.addEventListener("wheel",this.wheel.bind(this),{passive:!1})),this._position.set(NaN,NaN),this._hoverPosition.set(NaN,NaN),this._touchDown=!1}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverPosition",{get:function(){return this._hoverPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverDelta",{get:function(){return this._hoverDelta},enumerable:!0,configurable:!0}),t.prototype.getRelativePosition=function(t,e){var r,n=t.getClientRects()[0];if(this.hoverMode)r=this._hoverPosition;else{if(!this._touchDown)return null;r=this._position}var i=r.x-n.left,s=r.y-n.top;return e&&(i/=n.width,s/=n.height),new o.Vector2(i,s)},t.prototype.setPos=function(t,e){this._touchDown&&(Number.isNaN(this._position.x)||Number.isNaN(this._position.y)?this._delta.set(0,0):this._delta.set(t-this._position.x,e-this._position.y),this._position.set(t,e)),Number.isNaN(this._hoverPosition.x)||Number.isNaN(this._hoverPosition.y)?this._hoverDelta.set(0,0):this._hoverDelta.set(t-this._hoverPosition.x,e-this._hoverPosition.y),this._hoverPosition.set(t,e)},t.prototype._TouchStart=function(t){this._touchDown=!0,t.touches?this._position.set(t.touches[0].clientX+window.pageXOffset,t.touches[0].clientY+window.pageYOffset):0==t.button&&this.setPos(t.pageX,t.pageY),this.onTouchStart&&this.onTouchStart(t)},t.prototype._TouchMove=function(t){t.touches?this.setPos(t.touches[0].clientX+window.pageXOffset,t.touches[0].clientY+window.pageYOffset):this.setPos(t.pageX,t.pageY),this._touchDown&&this.onTouchMove&&this.onTouchMove(t)},t.prototype._TouchEnd=function(t){this._touchDown&&(this._touchDown=!1,this._position.set(NaN,NaN),this.onTouchEnd&&this.onTouchEnd(t),this._delta.set(0,0))},t.prototype.wheel=function(t){this.onWheel&&this.onWheel(t)},t.prototype.update=function(){this._delta.multiplyScalar(this.attenuation),this._hoverDelta.multiplyScalar(this.attenuation),this.hoverMode&&this.onHover&&this.onHover()},t}(),s=r(17).version,a=function(){function t(t){console.log("%c- Welcome to Ore-Three "+s+" -","padding: 5px 10px ;background-color: black; color: white;font-size:11px"),console.log("%c↓↓ THANKS TO THIS POWERFULL ENGINE!!","padding: 2px 2px ;background-color: black; color: white; font-size:5px"),this.renderer=new o.WebGLRenderer(t),this.renderer.debug.checkShaderErrors=!0,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(t.retina?window.devicePixelRatio:1),this.cursor=new i,this.cursor.onTouchStart=this.onTouchStart.bind(this),this.cursor.onTouchMove=this.onTouchMove.bind(this),this.cursor.onTouchEnd=this.onTouchEnd.bind(this),this.cursor.onHover=this.onHover.bind(this),this.cursor.onWheel=this.onWheel.bind(this),this.clock=new o.Clock,this.gProps={renderer:this.renderer,cursor:this.cursor},window.addEventListener("orientationchange",this.onOrientationDevice.bind(this)),window.addEventListener("resize",this.onWindowResize.bind(this)),this.tick()}return t.prototype.tick=function(){var t=this.clock.getDelta();this.cursor.update(),this.currentScene&&this.currentScene.tick(t),requestAnimationFrame(this.tick.bind(this))},t.prototype.bindScene=function(t){this.currentScene=t,this.currentScene.onBind(this.gProps),this.onWindowResize()},t.prototype.unbindScene=function(){this.currentScene&&(this.currentScene.onUnbind(),this.currentScene=null,this.renderer.renderLists.dispose())},t.prototype.onWindowResize=function(){var t=window.innerWidth,e=window.innerHeight;this.renderer.setSize(t,e),this.currentScene&&this.currentScene.onResize(t,e)},t.prototype.onOrientationDevice=function(){this.onWindowResize()},t.prototype.onTouchStart=function(t){this.currentScene&&this.currentScene.onTouchStart(this.cursor,t)},t.prototype.onTouchMove=function(t){this.currentScene&&this.currentScene.onTouchMove(this.cursor,t)},t.prototype.onTouchEnd=function(t){this.currentScene&&this.currentScene.onTouchEnd(this.cursor,t)},t.prototype.onHover=function(){this.currentScene&&this.currentScene.onHover(this.cursor)},t.prototype.onWheel=function(t){this.currentScene&&this.currentScene.onWheel(t)},t}();!function(t){t.sigmoid=function(t,e){var r=6;e[0]&&(r=e[0]);var n=Math.exp(-r*(2*t-1)),o=Math.exp(-r);return(1+(1-n)/(1+n)*(1+o)/(1-o))/2},t.smoothstep=function(t,e,r){var n=Math.max(0,Math.min(1,r-t/(e-t)));return n*n*(3-2*n)},t.linear=function(t){return t},t.easeInQuad=function(t){return t*t},t.easeOutQuad=function(t){return t*(2-t)},t.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.easeInCubic=function(t){return t*t*t},t.easeOutCubic=function(t){return--t*t*t+1},t.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.easeInQuart=function(t){return t*t*t*t},t.easeOutQuart=function(t){return 1- --t*t*t*t},t.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},t.easeInQuint=function(t){return t*t*t*t*t},t.easeOutQuint=function(t){return 1+--t*t*t*t*t},t.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}(n||(n={}));var u,c=function(){function t(t){this._velocity=0,this._pageOffset=0,this._pageOffsetMem=0,this.velocityAttenuation=.95,this.x=1,this.isAutoMoving=!1,this.autoMovingLock=!1,this.sections=[],this.sectionScrollPercentages={},this.threePosition=new o.Vector3(0,0,0),this.threeRotation=new o.Quaternion(0,0,0),this.isStop=!1,this.stopSection=null,this.element=t,this.rect=this.element.getBoundingClientRect(),this.initEasings()}return Object.defineProperty(t.prototype,"pageOffset",{get:function(){return this._pageOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollVel",{get:function(){return this._velocity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPercentage",{get:function(){for(var t=0,e=1;e<this.sections.length;e++)t+=this.sectionScrollPercentages[this.sections[e].name];return t/(this.sections.length-1)},enumerable:!0,configurable:!0}),t.prototype.initEasings=function(){this.easingPos={func:n.linear,variables:null},this.easingRot={func:n.linear,variables:null},this.easingAutoMove={func:n.sigmoid,variables:[6]}},t.prototype.addVelocity=function(t){this.autoMovingLock||this.isStop&&!this.checkUnlockStopScroll(t,!1)||(this._velocity+=t)},t.prototype.setVelocity=function(t){this.autoMovingLock||this.isStop&&!this.checkUnlockStopScroll(t,!0)||(this._velocity=t)},t.prototype.checkUnlockStopScroll=function(t,e){var r=!0,n=this.sections[this.stopSection];return t>0?n.onStartDownScroll&&(r=n.onStartDownScroll(t,e)):n.onStartUpScroll&&(r=n.onStartUpScroll(t,e)),r&&(this.isStop=!1,this.stopSection=null),r},t.prototype.setEasingPos=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.easingPos.func=t,this.easingPos.variables=e},t.prototype.setEasingRot=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.easingRot.func=t,this.easingRot.variables=e},t.prototype.setEasingAutoMove=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.easingAutoMove.func=t,this.easingAutoMove.variables=e},t.prototype.moveto=function(t){var e;if("string"==typeof t.target){var r=this.getSection(t.target);r&&(e=r.bottom?r.rect.bottom-window.innerHeight:r.rect.top)}else{e=t.target.getBoundingClientRect().top}this.baseOffset=this.pageOffset,this.x=0,this._velocity=0,this.isAutoMoving=!0,this.duration=t.duration?t.duration:1,this.autoMovingLock=!!t.lock&&t.lock,this.scrollDistance=Math.min(e,this.rect.height-(this.pageOffset+window.innerHeight)),this.onAutoMoveFinished=t.callback?t.callback:null},t.prototype.update=function(t){this.isStop||(this.updateScroll(t),this.checkThrowSection()),this.calcScrollPercentage(),this.currentSection=this.getCurrentSection(),this.calcThreePosition(),this.calcThreeRotation(),this.applyPageOffset(this.pageOffset)},t.prototype.updateScroll=function(t){this._pageOffsetMem=this.pageOffset,this.isAutoMoving?this.autoScroll(t):this.manualScroll(t)},t.prototype.manualScroll=function(t){this._pageOffset+=this._velocity,this._pageOffset=Math.min(Math.max(0,this.pageOffset),this.rect.height-window.innerHeight),this._velocity*=this.velocityAttenuation},t.prototype.autoScroll=function(t){this.x+=(t||.016)/this.duration;var e=!1;this.x>=1&&(e=!0,this.x=1);var r=this.easingAutoMove.func(this.x,this.easingAutoMove.variables);this._pageOffset=this.baseOffset+this.scrollDistance*r,e&&(this.onAutoMoveFinished&&this.onAutoMoveFinished(),this.isAutoMoving=!1,this.onAutoMoveFinished=null,this._velocity=0,this.autoMovingLock=!1)},t.prototype.applyPageOffset=function(t){this.element.style.transform="translate3d( 0,"+-t+"px,0 )"},t.prototype.checkThrowSection=function(){var t;for(t=0;t<this.sections.length;t++){var e=this.sections[t],r=void 0,n=this._pageOffset,o=this._pageOffsetMem;if(e.bottom?(r=e.rect.bottom,n+=window.innerHeight,o+=window.innerHeight):r=e.rect.top,n>=r&&r>o){this.sections[t].onArrivalDownScroll&&this.sections[t].onArrivalDownScroll(),this.onThrowSection(t);break}if(n<=r&&r<o){this.sections[t].onArrivalUpScroll&&this.sections[t].onArrivalUpScroll(),this.onThrowSection(t);break}if(n==o&&n==r){this.onThrowSection(t);break}}},t.prototype.onThrowSection=function(t){this.stopSection!=t&&this.sections[t].stop&&(this.isStop=!0,this.stopSection=t,this._velocity=0,this.setPageOffsetToSection(t))},t.prototype.setPageOffsetToSection=function(t){this.sections[t].bottom?this._pageOffset=this.sections[t].rect.bottom-window.innerHeight:this._pageOffset=this.sections[t].rect.top},t.prototype.getSection=function(t){for(var e=0;e<this.sections.length;e++)if(this.sections[e].name==t)return this.sections[e];return null},t.prototype.getCurrentSection=function(){for(var t=0;t<this.sections.length;t++){var e=this.sections[t],r=this.sectionScrollPercentages[e.name],n=this.sections[t+1];if(null==n){if(r>0)return t;break}var o=this.sectionScrollPercentages[n.name];if(r>0&&0==o)return t}},t.prototype.calcScrollPercentage=function(){for(var t=1;t<this.sections.length;t++){var e=this.sections[t-1],r=this.sections[t],n=e.bottom?e.rect.bottom:e.rect.top,o=r.bottom?r.rect.bottom:r.rect.top,i=void 0,s=void 0;r.bottom?e.bottom?(i=this._pageOffset+window.innerHeight-n,s=o-n):(i=this._pageOffset-n,s=o-n-window.innerHeight):e.bottom?(i=this._pageOffset-n+window.innerHeight,s=o-n+window.innerHeight):(i=this._pageOffset-n,s=o-n);var a=i/s,u=Math.min(1,Math.max(0,a));this.sectionScrollPercentages[r.name]=u}},t.prototype.calcThreePosition=function(){for(var t,e,r,n,i=this.currentSection-1;i>=0&&(t=i,null==(r=this.sections[t].threePosition));i--);for(i=this.currentSection;i<this.sections.length&&(e=i,null==(n=this.sections[e].threePosition));i++);var s=0,a=0;if(r&&n){for(i=t+1;i<=e;i++)s+=this.sectionScrollPercentages[this.sections[i].name],a++;var u=this.sections[this.currentSection],c=this.calcThreeEasings(s/a,u,"pos");this.threePosition.copy(r.clone().add((new o.Vector3).subVectors(n,r).multiplyScalar(c)))}else r?this.threePosition.copy(r):n&&this.threePosition.copy(n)},t.prototype.calcThreeRotation=function(){for(var t,e,r,n,o=this.currentSection-1;o>=0&&(t=o,null==(r=this.sections[t].threeRotation));o--);for(o=this.currentSection;o<this.sections.length&&(e=o,null==(n=this.sections[e].threeRotation));o++);var i=0,s=0;if(r&&n){for(o=t+1;o<=e;o++)i+=this.sectionScrollPercentages[this.sections[o].name],s++;var a=this.sections[this.currentSection],u=this.calcThreeEasings(i/s,a,"rot");this.threeRotation.copy(r.clone().slerp(n,u))}else r?this.threeRotation.copy(r):n&&this.threeRotation.copy(n)},t.prototype.calcThreeEasings=function(t,e,r){return"pos"==r?e.sectionEasings&&e.sectionEasings.position?e.sectionEasings.position.func(t,e.sectionEasings.position.variables):this.easingPos.func(t,this.easingPos.variables):"rot"==r?e.sectionEasings&&e.sectionEasings.rotation?e.sectionEasings.rotation.func(t,e.sectionEasings.rotation.variables):this.easingRot.func(t,this.easingRot.variables):void 0},t.prototype.registerSections=function(t){var e=t.element.getBoundingClientRect(),r={top:e.top,bottom:e.bottom,width:e.width,height:e.height},n=t;n.rect=r,this.sections.push(n),this.sectionScrollPercentages[t.name]=0,this._pageOffset=0,this.currentSection=0,this.sortSections(),this.calcScrollPercentage()},t.prototype.sortSections=function(){this.sections.sort(function(t,e){return t.rect.top>e.rect.top?1:-1});for(var t=0;t<this.sections.length;t++)if(this.sections[t].threePosition){this.threePosition.copy(this.sections[t].threePosition);break}this.sectionScrollPercentages[this.sections[0].name]=1},t.prototype.resize=function(){this.rect=this.element.getBoundingClientRect();for(var t=0;t<this.sections.length;t++){var e=this.sections[t].element.getBoundingClientRect();this.sections[t].rect.bottom=e.bottom+this.pageOffset,this.sections[t].rect.top=e.top+this.pageOffset,this.sections[t].rect.width=e.width,this.sections[t].rect.height=e.height}},t}(),l=function(){function t(){this.time=0,this.name="",this.scene=new o.Scene,this.camera=new o.PerspectiveCamera(50,innerWidth/innerHeight,.1,1e3),this.width=window.innerWidth,this.height=window.innerHeight}return t.prototype.tick=function(t){this.time+=t,this.animate(t)},t.prototype.animate=function(t){},t.prototype.onBind=function(t){this.gProps=t},t.prototype.onUnbind=function(){this.removeChildrens(this.scene)},t.prototype.removeChildrens=function(t){for(var e=t.children.length-1;e>=0;e--){this.removeChildrens(t.children[e]);var r=void 0,n=void 0;t.children[e].isMesh&&(r=t.children[e].geometry,n=t.children[e].material),t.remove(t.children[e]),r&&r.dispose(),n&&n.dispose()}},t.prototype.onResize=function(t,e){this.width=t,this.height=e,this.camera.aspect=t/e,this.camera.updateProjectionMatrix()},t.prototype.onTouchStart=function(t,e){},t.prototype.onTouchMove=function(t,e){},t.prototype.onTouchEnd=function(t,e){},t.prototype.onHover=function(t){},t.prototype.onWheel=function(t){},t}(),h=function(){function t(t){this.target=t,this.scrollVel=new o.Vector2}return t.prototype.update=function(){this.scrollVel.multiplyScalar(.96);var t=new o.Vector3(this.scrollVel.y,this.scrollVel.x,0).normalize(),e=(new o.Quaternion).setFromAxisAngle(t,this.scrollVel.length());e.multiply(this.target.quaternion),this.target.quaternion.copy(e)},t.prototype.addVelocity=function(t){this.scrollVel.addVectors(this.scrollVel,t.multiplyScalar(.001))},t}(),f=function(){function t(t,e){this.target=t,this.rotate=new o.Quaternion,this.rotMat=new o.Matrix4,this.scrollVel=new o.Vector2(0,0),this.uniform=e,this.uniform.rotVec={value:this.scrollVel},this.uniform.rotation={value:null}}return t.prototype.update=function(){this.scrollVel.multiplyScalar(.96);var t=new o.Vector3(this.scrollVel.y,this.scrollVel.x,0).normalize(),e=(new o.Quaternion).setFromAxisAngle(t,this.scrollVel.length());e.multiply(this.rotate),this.rotate.copy(e),this.uniform.rotation.value=this.rotMat.compose(new o.Vector3,this.rotate,this.target.scale)},t.prototype.addVelocity=function(t){this.scrollVel.addVectors(this.scrollVel,t.multiplyScalar(.001))},t}(),p=function(){function t(t){this.x=0,this.duration=1,this.isMoving=!1,this.force=!1,this.objPos=t.position,this.objRot=t.rotation,this.setBaseTransform()}return t.prototype.setBaseTransform=function(){this.basePos=this.objPos.clone(),this.baseRot=this.objRot.toVector3()},t.prototype.move=function(t,e,r,n){return void 0===t&&(t=null),void 0===e&&(e=null),void 0===r&&(r=1),!(this.isMoving&&!this.force)&&(t||(t=this.objPos.clone()),e||(e=this.objRot.clone()),n&&(this.onFinish=n),this.duration=r,this.setBaseTransform(),this.goalPos=t.clone(),this.goalRot=e.toVector3(),this.distancePos=(new o.Vector3).subVectors(this.goalPos,this.basePos),this.distanceRot=(new o.Vector3).subVectors(this.goalRot,this.baseRot),this.x=0,this.isMoving=!0,!0)},t.prototype.update=function(t){var e=!1;if(this.isMoving){this.x+=(t||.016)/this.duration,this.x>1&&(this.x=1,e=!0);var r=this.sigmoid(6,this.x);this.objPos.set(this.basePos.x+this.distancePos.x*r,this.basePos.y+this.distancePos.y*r,this.basePos.z+this.distancePos.z*r),this.objRot.set(this.baseRot.x+this.distanceRot.x*r,this.baseRot.y+this.distanceRot.y*r,this.baseRot.z+this.distanceRot.z*r),e&&(this.x=0,this.isMoving=!1,this.onFinish&&(this.onFinish(),this.onFinish=null))}},t.prototype.sigmoid=function(t,e){var r=Math.exp(-t*(2*e-1)),n=Math.exp(-t);return(1+(1-r)/(1+r)*(1+n)/(1-n))/2},t}(),d=function(){function t(t){this.isLoaded=!1,this.listener=t.listener?t.listener:new o.AudioListener,this.audio=new o.Audio(this.listener),this.bufferSize=t.bufferSize?t.bufferSize:128,t.src&&this.load(t.src)}return Object.defineProperty(t.prototype,"isPlaying",{get:function(){return!!this.audio&&this.audio.isPlaying},enumerable:!0,configurable:!0}),t.prototype.load=function(t){var e=this;this.audio.buffer&&this.audio.stop();var r=new o.AudioLoader;this.isLoaded=!1,r.load(t,function(t){e.audio.setBuffer(t),e.audio.setLoop(!0),e.audio.setVolume(.5),e.analyser=new o.AudioAnalyser(e.audio,e.bufferSize),e.spectrumData=new o.DataTexture(e.analyser.data,e.bufferSize/2,1,o.LuminanceFormat),e.spectrumData.needsUpdate=!0,e.isLoaded=!0,e.onLoad&&(e.onLoad(),e.onLoad=null)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("An error happened: "+t)})},t.prototype.play=function(){var t=this;this.isLoaded?this.audio.play():this.onLoad=function(){t.audio.play()}},t.prototype.pause=function(){this.audio.isPlaying&&this.audio.pause()},t.prototype.update=function(){this.analyser&&(this.analyser.getFrequencyData(),this.volume=this.analyser.getAverageFrequency(),this.spectrumData&&(this.spectrumData.needsUpdate=!0))},t}(),v=function(){function t(t,e){this.volume=0,this.navigator=t,this.bufferSize=e,this.navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(this.onGetUserMedia.bind(this))}return t.prototype.onGetUserMedia=function(t){this.context=new(window.AudioContext||window.webkitAudioContext),this.analyzer=this.context.createAnalyser(),this.analyzer.fftSize=this.bufferSize,this.analyzer.smoothingTimeConstant=.8,this.bufferArray=new Uint8Array(this.analyzer.frequencyBinCount),this.spectrumData=new o.DataTexture(this.bufferArray,this.bufferSize/2,1,o.LuminanceFormat);var e=this.context.createMediaStreamSource(t);this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),e.connect(this.analyzer),this.analyzer.connect(this.processor),this.processor.connect(this.context.destination),this.processor.addEventListener("audioprocess",this.onProcess.bind(this))},t.prototype.onProcess=function(t){this.analyzer.getByteFrequencyData(this.bufferArray),this.spectrumData.needsUpdate=!0,this.calcVolume()},t.prototype.calcVolume=function(){for(var t=0,e=0;e<this.bufferArray.length;e++)t+=this.bufferArray[e];this.volume=t/this.bufferArray.length},t}(),m=r(3),g=r.n(m),y=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),x=function(t){function e(e,r){var n=this,i=new o.BufferGeometry,s=[],a=[],u=[];s.push(-1,1,0),s.push(1,1,0),s.push(1,-1,0),s.push(-1,-1,0),u.push(0,1),u.push(1,1),u.push(1,0),u.push(0,0),a.push(0,2,1,0,3,2);var c=new Float32Array(s),l=new Uint32Array(a),h=new Float32Array(u);i.addAttribute("position",new o.BufferAttribute(c,3)),i.addAttribute("uv",new o.BufferAttribute(h,2)),i.setIndex(new o.BufferAttribute(l,1));var f=new o.ShaderMaterial({uniforms:r,fragmentShader:e,vertexShader:g.a,transparent:!0});return(n=t.call(this,i,f)||this).frustumCulled=!1,n}return y(e,t),e}(o.Mesh),b=r(4),w=r.n(b),S=r(1),T=r.n(S),P=r(5),_=r.n(P),D=function(){function t(t,e,r){var n=this;this.renderer=t,this.resolutionRatio=r||1,this.resolution=new o.Vector2,this.renderer.getSize(this.resolution),this.resolution.multiplyScalar(this.renderer.getPixelRatio()*(this.resolutionRatio?this.resolutionRatio:1)),this.scene=new o.Scene,this.camera=new o.OrthographicCamera(-1,1,1,-1,0,1),this.screenMesh=new o.Mesh(new o.PlaneGeometry(2,2),null),this.scene.add(this.screenMesh),this.initRenderTargets(),e.forEach(function(t){t.uniforms||(t.uniforms={}),t.uniforms.backbuffer||(t.uniforms.backbuffer={value:null}),t.uniforms.resolution||(t.uniforms.resolution={value:n.resolution});var e={material:new o.ShaderMaterial({uniforms:t.uniforms,vertexShader:"varying vec2 vUv; void main() { vUv = uv; gl_Position = vec4( position, 1.0 ); } ",fragmentShader:t.fragmentShader}),uniforms:t.uniforms};n.effectMaterials?n.effectMaterials.push(e):n.effectMaterials=[e]})}return t.prototype.initRenderTargets=function(){this.readBuffer=this.createRenderTarget(),this.writeBuffer=this.createRenderTarget()},t.prototype.createRenderTarget=function(){return new o.WebGLRenderTarget(this.resolution.x,this.resolution.y)},t.prototype.swapBuffers=function(){var t=this.writeBuffer;this.writeBuffer=this.readBuffer,this.readBuffer=t},t.prototype.render=function(t,e,r){var n=this;void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===r&&(r=!1);var o=!1,i=!1;"Scene"==t.type?(this.renderer.setRenderTarget(this.readBuffer),this.renderer.render(t,e),o=r):"boolean"==typeof t?o=t:(this.effectMaterials[0].uniforms.backbuffer.value=t,i=!0,o=e),this.effectMaterials.forEach(function(t,e){n.screenMesh.material=t.material,(!i||e>0)&&(t.uniforms.backbuffer.value=n.readBuffer.texture),e<n.effectMaterials.length-1||o?n.renderer.setRenderTarget(n.writeBuffer):n.renderer.setRenderTarget(null),n.renderer.render(n.scene,n.camera),n.swapBuffers()}),this.resultBuffer=o?this.readBuffer:null},t.prototype.getResultTexture=function(){return this.resultBuffer?this.resultBuffer.texture:null},t.prototype.resize=function(t,e){this.resolution.set(t,e).multiplyScalar(this.renderer.getPixelRatio()*this.resolutionRatio),this.readBuffer.setSize(this.resolution.x,this.resolution.y),this.writeBuffer.setSize(this.resolution.x,this.resolution.y)},t}(),A=function(){function t(t,e){this.renderCount=5,this.threshold=.9,this.brightness=.9,this.blurRange=10,this.renderer=t,this.blurTextureResolutionRatio=e||.1,this.resolution=new o.Vector2(window.innerWidth,window.innerHeight),this.init()}return t.prototype.init=function(){this.sceneTex={value:null},this.blurResolution=(new o.Vector2).copy(this.resolution.clone().divideScalar(this.blurRange)),this._brightUni={threshold:{value:this.threshold}},this._blurUni1={direction:{value:!0},resolution:{value:this.blurResolution}},this._blurUni2={direction:{value:!1},resolution:{value:this.blurResolution}},this._bloomUni={sceneTex:this.sceneTex,brightness:{value:this.brightness}};var t=[{fragmentShader:w.a,uniforms:this._brightUni}],e=[{fragmentShader:T.a,uniforms:this._blurUni1},{fragmentShader:T.a,uniforms:this._blurUni2}],r=[{fragmentShader:_.a,uniforms:this._bloomUni}];this._brightPP=new D(this.renderer,t,this.blurTextureResolutionRatio),this._blurPP=new D(this.renderer,e,this.blurTextureResolutionRatio),this._bloomPP=new D(this.renderer,r),this.sceneRenderTarget=this._bloomPP.createRenderTarget(),this.resize()},t.prototype.render=function(t,e){this._brightUni.threshold.value=this.threshold,this._bloomUni.brightness.value=this.brightness,this.blurResolution.copy(this.resolution.clone().divideScalar(this.blurRange)),this.renderer.setRenderTarget(this.sceneRenderTarget),this.renderer.render(t,e),this.sceneTex.value=this.sceneRenderTarget.texture,this._brightPP.render(this.sceneRenderTarget.texture,!0);for(var r=this._brightPP.getResultTexture(),n=0;n<this.renderCount;n++)this._blurPP.render(r,!0),r=this._blurPP.getResultTexture();this._bloomPP.render(r,!1)},t.prototype.resize=function(t,e){var r=t||window.innerWidth,n=e||window.innerHeight;this.resolution.set(t,e),this.blurResolution.copy(this.resolution.clone().divideScalar(this.blurRange)),this.sceneRenderTarget.setSize(r*this.renderer.getPixelRatio(),n*this.renderer.getPixelRatio()),this._brightPP.resize(r,n),this._blurPP.resize(r,n),this._bloomPP.resize(r,n)},t}(),R=r(6),z=r.n(R),C=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(t){function e(e){var r=t.call(this)||this;r.dom=e.dom,r.uni=e.uniforms,r.frag=e.fragmentShader;var n=r.dom.getBoundingClientRect();return r.domPos=new o.Vector2(n.left,n.right),r.domSize=new o.Vector2(n.width,n.height),r.windowSize=new o.Vector2(window.innerWidth,window.innerHeight),r.uni.domPos={value:r.domPos},r.uni.domSize={value:r.domSize},r.uni.windowSize={value:r.windowSize},r.createMesh(),r}return C(e,t),e.prototype.createMesh=function(){var t=new o.PlaneGeometry(2,2,1,1),e=new o.ShaderMaterial({uniforms:this.uni,fragmentShader:this.frag,vertexShader:z.a,transparent:!0}),r=new o.Mesh(t,e);r.frustumCulled=!1,r.position.set(0,0,0),r.rotateY(Math.PI),this.add(r)},e.prototype.updateDom=function(){this.windowSize.set(window.innerWidth,window.innerHeight);var t=this.dom.getBoundingClientRect();this.domSize.set(t.width,t.height),this.domPos.set(t.left,t.top)},e}(o.Object3D),O=r(7),M=r.n(O),k=r(2),V=r.n(k),E=r(8),L=r.n(E),I=r(9),U=r.n(I),N=r(10),B=r.n(N),j=function(){function t(t,e){this.renderer=t,this.resolution=e,this.tempDataLinear=this.createData({minFilter:o.LinearFilter,magFilter:o.LinearFilter}),this.tempDataNear=this.createData({minFilter:o.NearestFilter,magFilter:o.NearestFilter}),this.scene=new o.Scene,this.camera=new o.Camera,this.camera.position.z=1,this.materials=[],this.mesh=new o.Mesh(new o.PlaneGeometry(2,2)),this.scene.add(this.mesh)}return Object.defineProperty(t.prototype,"isSupported",{get:function(){return this.renderer.extensions.get("OES_texture_float")},enumerable:!0,configurable:!0}),t.prototype.createInitializeTexture=function(){var t=new Float32Array(this.resolution.x*this.resolution.y*4),e=new o.DataTexture(t,this.resolution.x,this.resolution.y,o.RGBAFormat,o.FloatType);return e.needsUpdate=!0,e},t.prototype.createData=function(t,e){var r,n,i={wrapS:o.ClampToEdgeWrapping,wrapT:o.ClampToEdgeWrapping,minFilter:o.LinearFilter,magFilter:o.LinearFilter,format:o.RGBAFormat,type:/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?o.HalfFloatType:o.FloatType,stencilBuffer:!1,depthBuffer:!1};t&&(t.isDataTexture?(r=t,e&&(n=e)):n=t),n&&(i.wrapS=n.wrapS||i.wrapS,i.wrapT=n.wrapT||i.wrapT,i.minFilter=n.minFilter||i.minFilter,i.magFilter=n.magFilter||i.magFilter,i.format=n.format||i.format,i.type=n.type||i.type,i.stencilBuffer=n.stencilBuffer||i.stencilBuffer,i.depthBuffer=n.depthBuffer||i.depthBuffer);var s={buffer:new o.WebGLRenderTarget(this.resolution.x,this.resolution.y,i)};if(r){var a=this.createKernel(B.a);a.uniforms.texture={value:r},this.compute(a,s)}return s},t.prototype.createKernel=function(t){var e={resolution:{value:this.resolution}},r=new o.ShaderMaterial({vertexShader:U.a,fragmentShader:t,uniforms:e});return this.materials.push(r),{material:r,uniforms:e}},t.prototype.compute=function(t,e){var r;r=e.buffer.texture.magFilter==o.LinearFilter?this.tempDataLinear:this.tempDataNear,this.mesh.material=t.material,this.renderer.setRenderTarget(r.buffer),this.renderer.render(this.scene,this.camera),this.swapBuffers(e,r),this.renderer.setRenderTarget(null)},t.prototype.swapBuffers=function(t,e){var r=t.buffer;t.buffer=e.buffer,e.buffer=r},t.prototype.dispose=function(){this.mesh.geometry.dispose();for(var t=0;t<this.materials.length;t++)this.materials[t].dispose();this.scene.remove(this.mesh),this.tempDataLinear.buffer.dispose()},t}(),H=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),W=function(t){function e(e,r,n,i){void 0===i&&(i=null);var s=t.call(this)||this;s.renderer=e,s.num=r,s.length=n,s.fragment=null!=i?i:V.a,s.gcController=new j(s.renderer,new o.Vector2(s.length,s.num)),s.kernels={position:s.gcController.createKernel(M.a),velocity:s.gcController.createKernel(V.a)};var a=s.gcController.createInitializeTexture();return s.initPosition(a),s.positionData=s.gcController.createData(a),s.velocityData=s.gcController.createData(),a.dispose(),s.kernels.position.uniforms.texturePosition={value:null},s.kernels.position.uniforms.textureVelocity={value:null},s.kernels.velocity.uniforms.texturePosition={value:null},s.kernels.velocity.uniforms.textureVelocity={value:null},s.kernels.velocity.uniforms.time={value:0},s.kernels.velocity.uniforms.seed={value:100*Math.random()},s.createTrails(),s}return H(e,t),e.prototype.initPosition=function(t){for(var e=t.image.data,r=new o.Vector3(10,10,10),n=0;n<e.length;n+=4*this.length)for(var i=Math.random()*r.x-r.x/2,s=Math.random()*r.y-r.y/2,a=Math.random()*r.z-r.z/2,u=0;u<4*this.length;u+=4)e[n+u+0]=i,e[n+u+1]=s,e[n+u+2]=a,e[n+u+3]=1},e.prototype.createTrails=function(){for(var t=new o.InstancedBufferGeometry,e=[],r=[],n=[],i=[],s=[],a=0;a<this.length;a++)for(var u=a,c=0;c<10;c++){var l=2*Math.PI/10*c,h=.1*Math.cos(l),f=.1*Math.sin(l);0,e.push(h),e.push(f),e.push(0);var p=new o.Vector3(h,f,0);p.normalize(),n.push(p.x,p.y,p.z),i.push(a/this.length);var d=10*u+c;a>0&&(r.push(d),r.push(10*(u-1)+(c+1)%10),r.push(10*u+(c+1)%10),r.push(d),r.push(d-10),r.push(10*(u-1)+(c+1)%10))}var v=new Float32Array(e),m=new Float32Array(n),g=new Uint32Array(r),y=new Float32Array(i);t.addAttribute("position",new o.BufferAttribute(v,3)),t.addAttribute("uvx",new o.BufferAttribute(y,1)),t.addAttribute("normal",new o.BufferAttribute(m,3)),t.setIndex(new o.BufferAttribute(g,1));for(var x=0;x<this.num;x++)s.push(x/this.num);var b=new Float32Array(s);t.addAttribute("uvy",new o.InstancedBufferAttribute(b,1,!1,1));var w=o.ShaderLib.standard;this.uni=o.UniformsUtils.merge([w.uniforms,{texturePosition:{value:null},textureVelocity:{value:null}}]);var S=new o.ShaderMaterial({uniforms:this.uni,vertexShader:L.a,fragmentShader:w.fragmentShader,lights:!0,flatShading:!0}),T=new o.Mesh(t,S);T.matrixAutoUpdate=!1,T.updateMatrix(),this.add(T)},e.prototype.update=function(t){this.kernels.velocity.uniforms.time.value=t,this.kernels.velocity.uniforms.textureVelocity.value=this.velocityData.buffer.texture,this.kernels.velocity.uniforms.texturePosition.value=this.positionData.buffer.texture,this.gcController.compute(this.kernels.velocity,this.velocityData),this.kernels.position.uniforms.textureVelocity.value=this.velocityData.buffer.texture,this.kernels.position.uniforms.texturePosition.value=this.positionData.buffer.texture,this.gcController.compute(this.kernels.position,this.positionData),this.uni.texturePosition.value=this.positionData.buffer.texture,this.uni.textureVelocity.value=this.velocityData.buffer.texture},e.prototype.dispose=function(){this.positionData.buffer.dispose(),this.velocityData.buffer.dispose(),this.gcController.dispose()},e}(o.Object3D),Y=r(11),G=r.n(Y),X=r(12),q=r.n(X),K=r(13),Q=r.n(K),Z=r(14),J=r.n(Z),$=r(15),tt=r.n($),et=r(16),rt=r.n(et),nt=function(){function t(t,e){this.parameter={solverIteration:20,screenAspect:1,pointerSize:1,curl:.1,velocityAttenuation:.95,pressureAttenuation:.8},this.time=0,this.renderer=t,this.resolution=e,this.gcConroller=new j(this.renderer,this.resolution),this.kernels={curl:this.gcConroller.createKernel(rt.a),divergence:this.gcConroller.createKernel(J.a),velocity:this.gcConroller.createKernel(Q.a),gradientSubtract:this.gcConroller.createKernel(q.a),pressure:this.gcConroller.createKernel(G.a),advect:this.gcConroller.createKernel(tt.a)},this.kernels.curl.uniforms.dataTex={value:null},this.kernels.curl.uniforms.curl={value:this.parameter.curl},this.kernels.velocity.uniforms.dataTex={value:null},this.kernels.velocity.uniforms.curlTex={value:null},this.kernels.velocity.uniforms.screenAspect={value:this.parameter.screenAspect},this.kernels.velocity.uniforms.pointerPos={value:0},this.kernels.velocity.uniforms.pointerVec={value:0},this.kernels.velocity.uniforms.pointerSize={value:this.parameter.pointerSize},this.kernels.pressure.uniforms.dataTex={value:null},this.kernels.gradientSubtract.uniforms.dataTex={value:null},this.kernels.divergence.uniforms.dataTex={value:null},this.kernels.advect.uniforms.dataTex={value:null},this.kernels.advect.uniforms.velocityAttenuation={value:this.parameter.velocityAttenuation},this.kernels.advect.uniforms.pressureAttenuation={value:this.parameter.pressureAttenuation},this.fluidData=this.gcConroller.createData({magFilter:o.LinearFilter,minFilter:o.LinearFilter}),this.curlData=this.gcConroller.createData({magFilter:o.LinearFilter,minFilter:o.LinearFilter})}return t.prototype.update=function(t){this.time+=t,this.kernels.curl.uniforms.curl.value=this.parameter.curl,this.kernels.velocity.uniforms.screenAspect.value=this.parameter.screenAspect,this.kernels.velocity.uniforms.pointerSize.value=this.parameter.pointerSize,this.kernels.advect.uniforms.velocityAttenuation.value=this.parameter.velocityAttenuation,this.kernels.advect.uniforms.pressureAttenuation.value=this.parameter.pressureAttenuation,this.kernels.curl.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.curl,this.curlData),this.kernels.velocity.uniforms.dataTex.value=this.fluidData.buffer.texture,this.kernels.velocity.uniforms.curlTex.value=this.curlData.buffer.texture,this.gcConroller.compute(this.kernels.velocity,this.fluidData),this.kernels.divergence.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.divergence,this.fluidData);for(var e=0;e<20;e++)this.kernels.pressure.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.pressure,this.fluidData);this.kernels.gradientSubtract.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.gradientSubtract,this.fluidData),this.kernels.advect.uniforms.dataTex.value=this.fluidData.buffer.texture,this.gcConroller.compute(this.kernels.advect,this.fluidData)},t.prototype.setPointer=function(t,e){this.kernels.velocity.uniforms.pointerPos.value=t,this.kernels.velocity.uniforms.pointerVec.value=e},t.prototype.getTexture=function(){return this.fluidData.buffer.texture},t.prototype.resize=function(t,e){},t}();r.d(e,"Controller",function(){return a}),r.d(e,"Cursor",function(){return i}),r.d(e,"PageScroller",function(){return c}),r.d(e,"BaseScene",function(){return l}),r.d(e,"MouseRotator",function(){return h}),r.d(e,"MouseVertexRotator",function(){return f}),r.d(e,"TransformAnimator",function(){return p}),r.d(e,"AudioPlayer",function(){return d}),r.d(e,"MicData",function(){return v}),r.d(e,"Background",function(){return x}),r.d(e,"BloomFilter",function(){return A}),r.d(e,"DomGLSL",function(){return F}),r.d(e,"Easings",function(){return n}),r.d(e,"Fish",function(){return W}),r.d(e,"GPUComputationController",function(){return j}),r.d(e,"PostProcessing",function(){return D}),r.d(e,"StableFluids",function(){return nt})}]);